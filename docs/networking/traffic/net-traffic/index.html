<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.74.3" /><META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">


<link rel="shortcut icon" href="../../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../../favicons/android-192x192.png" sizes="192x192">

<title>Network Traffic | Verrazzano Enterprise Container Platform</title><meta property="og:title" content="Network Traffic" />
<meta property="og:description" content="Verrazzano network traffic" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://verrazzano.io/docs/networking/traffic/net-traffic/" />
<meta property="article:modified_time" content="2021-07-13T08:37:42-04:00" /><meta property="og:site_name" content="Verrazzano Enterprise Container Platform" />
<meta itemprop="name" content="Network Traffic">
<meta itemprop="description" content="Verrazzano network traffic">
<meta itemprop="dateModified" content="2021-07-13T08:37:42-04:00" />
<meta itemprop="wordCount" content="2437">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Network Traffic"/>
<meta name="twitter:description" content="Verrazzano network traffic"/>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177109661-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






<link rel="preload" href="../../../../scss/main.min.0b83ff56fc112b393e058988d839c5060c7d1dcb1145d9af9308812f68779e8a.css" as="style">
<link href="../../../../scss/main.min.0b83ff56fc112b393e058988d839c5060c7d1dcb1145d9af9308812f68779e8a.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>

<script
  src="https://unpkg.com/lunr@2.3.8/lunr.min.js"
  integrity="sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY"
  crossorigin="anonymous"></script>




  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../../../">
		<span class="navbar-logo"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112 30"><defs><style>.cls-1{fill:#fff}</style></defs><title>Artboard 3</title><path class="cls-1" d="M6.48 25.09l2.33-7.52h3.5L8.5 28.3H4.42L.61 17.57h3.5z"/><path class="cls-1" d="M23.7 23.53H16.25a2.49 2.49.0 00.62 1.74 2.19 2.19.0 002.63.17 1.73 1.73.0 00.64-1h3.48a4.54 4.54.0 01-.92 2 5 5 0 01-1.81 1.41 5.73 5.73.0 01-2.44.51 5.66 5.66.0 01-2.8-.67 4.71 4.71.0 01-1.92-1.91A6 6 0 0113 22.94 6.08 6.08.0 0113.72 20a4.68 4.68.0 011.92-1.9 5.72 5.72.0 012.81-.67 5.74 5.74.0 012.8.66 4.6 4.6.0 011.88 1.83 5.52 5.52.0 01.66 2.73A4.78 4.78.0 0123.7 23.53zm-3.8-3a2.3 2.3.0 00-2.95.0 2.24 2.24.0 00-.68 1.58h4.2A2 2 0 0019.9 20.56z"/><path class="cls-1" d="M29.92 18A4.11 4.11.0 0132 17.45V21h-.94a3.25 3.25.0 00-2 .56 2.22 2.22.0 00-.73 1.89V28.3H25V17.57h3.29v2A4.56 4.56.0 0129.92 18z"/><path class="cls-1" d="M38.21 18a4.11 4.11.0 012.11-.58V21h-.94a3.25 3.25.0 00-2 .56 2.24 2.24.0 00-.72 1.89V28.3H33.34V17.57h3.29v2A4.62 4.62.0 0138.21 18z"/><path class="cls-1" d="M47.82 18a3.34 3.34.0 011.31 1.52V17.57H52.4V28.3H49.13V26.36a3.34 3.34.0 01-1.31 1.52 3.88 3.88.0 01-2.11.56 4.29 4.29.0 01-2.38-.67 4.49 4.49.0 01-1.65-1.91 6.54 6.54.0 01-.61-2.92A6.57 6.57.0 0141.68 20a4.46 4.46.0 011.65-1.9 4.29 4.29.0 012.38-.67A3.88 3.88.0 0147.82 18zm-2.76 3a2.71 2.71.0 00-.64 1.93 2.7 2.7.0 00.64 1.92 2.22 2.22.0 001.7.69 2.25 2.25.0 001.71-.71 2.68 2.68.0 00.66-1.9A2.7 2.7.0 0048.47 21a2.25 2.25.0 00-1.71-.7A2.22 2.22.0 0045.06 21z"/><path class="cls-1" d="M57.5 25.55h5V28.3H53.9V25.71l4.62-5.41H54V17.57h8.29v2.6z"/><path class="cls-1" d="M66.85 25.55h5V28.3H63.25V25.71l4.62-5.41H63.33V17.57h8.29v2.6z"/><path class="cls-1" d="M79.49 18a3.4 3.4.0 011.31 1.52V17.57h3.27V28.3H80.8V26.36a3.4 3.4.0 01-1.31 1.52 3.92 3.92.0 01-2.12.56A4.32 4.32.0 0175 27.77a4.56 4.56.0 01-1.65-1.91 6.68 6.68.0 01-.61-2.92A6.71 6.71.0 0173.34 20 4.53 4.53.0 0175 18.1a4.32 4.32.0 012.38-.67A3.92 3.92.0 0179.49 18zm-2.76 3a2.71 2.71.0 00-.65 1.93 2.7 2.7.0 00.65 1.92 2.21 2.21.0 001.7.69 2.23 2.23.0 001.7-.71 2.68 2.68.0 00.67-1.9A2.7 2.7.0 0080.13 21a2.43 2.43.0 00-3.4.0z"/><path class="cls-1" d="M95.23 18.68a4.92 4.92.0 011.09 3.39V28.3H93V22.45a2.37 2.37.0 00-.57-1.68 2 2 0 00-1.51-.6 2.06 2.06.0 00-1.58.63 2.53 2.53.0 00-.59 1.81V28.3H85.49V17.57h3.29v2A3.6 3.6.0 0190.15 18a4.08 4.08.0 012.15-.56A3.7 3.7.0 0195.23 18.68z"/><path class="cls-1" d="M105.91 18.1a4.85 4.85.0 012 1.91 5.79 5.79.0 01.72 2.93 5.75 5.75.0 01-.72 2.92 4.85 4.85.0 01-2 1.91 6.44 6.44.0 01-5.72.0 4.82 4.82.0 01-2-1.91 5.65 5.65.0 01-.73-2.92A5.69 5.69.0 0198.2 20a4.82 4.82.0 012-1.91 6.44 6.44.0 015.72.0zM101.47 21a2.79 2.79.0 00-.65 2 2.74 2.74.0 00.65 2 2.2 2.2.0 003.16.0 2.78 2.78.0 00.64-2 2.84 2.84.0 00-.64-2 2.18 2.18.0 00-3.16.0z"/><path class="cls-1" d="M26.77 3.64a.6.6.0 00-.6.6v11h1.2v-11A.6.6.0 0026.77 3.64z"/><path class="cls-1" d="M82.27 3.64a.6.6.0 00-.6.6v11h1.2v-11A.6.6.0 0082.27 3.64z"/><path class="cls-1" d="M23.07 6.6c-5.91 8.28-21.2 6.78-21.35 6.76a.6.6.0 00-.13 1.19c.18.0 1.41.14 3.26.14 5 0 14.57-.91 19.2-7.39a.6.6.0 10-1-.7z"/><path class="cls-1" d="M107.59 13.36c-.16.0-15.8 1.53-21.72-6.76a.6.6.0 00-1 .7c4.63 6.48 14.36 7.39 19.5 7.39 1.87.0 3.14-.12 3.32-.14a.6.6.0 00.54-.65A.61.61.0 00107.59 13.36z"/><path class="cls-1" d="M78.75 6.54C75 10.52 64.41 13 52.48 12.66 42 12.37 33.41 10 30.5 6.56a.6.6.0 10-.92.78c3.79 4.45 14.3 6.28 22.86 6.51.65.0 1.32.0 2 0 9.17.0 20.57-1.67 25.18-6.52a.6.6.0 00-.87-.82z"/><path class="cls-1" d="M110.19 4.92a3.82 3.82.0 00-4.77-.13 5.05 5.05.0 00-9.64.7 3.2 3.2.0 00-1.4-.33 3.1 3.1.0 00-3.1 3.09 2.94 2.94.0 00.12.84.6.6.0 00.57.44h.17a.6.6.0 00.41-.74 2.25 2.25.0 01-.07-.52A1.9 1.9.0 0195.81 7a.58.58.0 00.63.14.66.66.0 00.42-.54 3.85 3.85.0 017.66-.53.62.62.0 00.47.51.61.61.0 00.63-.26 2.51 2.51.0 013.77-.51.6.6.0 10.8-.9z"/></svg></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="../../../../docs/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../../offline-search-index.ec19ed87e6734d6f25517a2f6a1f9f9b.json"
  data-offline-search-base-href="../../../../"
  data-offline-search-max-results="10"
>

</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center d-lg-none">
    



<input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../../offline-search-index.ec19ed87e6734d6f25517a2f6a1f9f9b.json"
  data-offline-search-base-href="../../../../"
  data-offline-search-max-results="10"
>


    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="docs">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/concepts/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Concepts</a>
  </li>
  <ul>
    <li class="collapse " id="docsconcepts">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsconceptsverrazzanooam" href="../../../../docs/concepts/verrazzanooam/">Verrazzano and the Open Application Model</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsconceptsverrazzanomulticluster" href="../../../../docs/concepts/verrazzanomulticluster/">Verrazzano in a Multicluster Environment</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsconceptsverrazzanoproject" href="../../../../docs/concepts/verrazzanoproject/">Verrazzano Projects</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/quickstart/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Quick Start</a>
  </li>
  <ul>
    <li class="collapse " id="docsquickstart">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/setup/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Setup</a>
  </li>
  <ul>
    <li class="collapse " id="docssetup">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/setup/platforms/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Platform Setup</a>
  </li>
  <ul>
    <li class="collapse " id="docssetupplatforms">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupplatformsocioci" href="../../../../docs/setup/platforms/oci/oci/">OKE</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupplatformsolcneolcne" href="../../../../docs/setup/platforms/olcne/olcne/">OLCNE</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupplatformskindkind" href="../../../../docs/setup/platforms/kind/kind/">KIND</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupplatformsgenericgeneric" href="../../../../docs/setup/platforms/generic/generic/">Generic</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/setup/install/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Install</a>
  </li>
  <ul>
    <li class="collapse " id="docssetupinstall">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupinstallinstallation" href="../../../../docs/setup/install/installation/">Install Guide</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupinstallprofiles" href="../../../../docs/setup/install/profiles/">Install Profiles</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupinstallmulticluster" href="../../../../docs/setup/install/multicluster/">Install Multicluster Verrazzano</a>
        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/setup/install/customizing/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Customize Installations</a>
  </li>
  <ul>
    <li class="collapse " id="docssetupinstallcustomizing">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupinstallcustomizingstorage" href="../../../../docs/setup/install/customizing/storage/">Persistent Storage</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupuninstalluninstall" href="../../../../docs/setup/uninstall/uninstall/">Uninstall</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupupgradeupgrade" href="../../../../docs/setup/upgrade/upgrade/">Upgrade</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssetupprivate-registryprivate-registry" href="../../../../docs/setup/private-registry/private-registry/">Use a Private Registry</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/operations/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Access Verrazzano</a>
  </li>
  <ul>
    <li class="collapse " id="docsoperations">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/applications/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Applications</a>
  </li>
  <ul>
    <li class="collapse " id="docsapplications">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/applications/multicluster/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Multicluster</a>
  </li>
  <ul>
    <li class="collapse " id="docsapplicationsmulticluster">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/applications/projects/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Projects</a>
  </li>
  <ul>
    <li class="collapse " id="docsapplicationsprojects">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/applications/workloads/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Workloads</a>
  </li>
  <ul>
    <li class="collapse " id="docsapplicationsworkloads">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsapplicationsworkloadscoherencecoherence" href="../../../../docs/applications/workloads/coherence/coherence/">Coherence</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsapplicationsworkloadshelidonhelidon" href="../../../../docs/applications/workloads/helidon/helidon/">Helidon</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/networking/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Networking</a>
  </li>
  <ul>
    <li class="collapse show" id="docsnetworking">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page  active" id="m-docsnetworkingtrafficnet-traffic" href="../../../../docs/networking/traffic/net-traffic/">Network Traffic</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsnetworkingsecuritynet-security" href="../../../../docs/networking/security/net-security/">Network Security</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/monitoring/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Monitoring &amp; Logging</a>
  </li>
  <ul>
    <li class="collapse " id="docsmonitoring">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/monitoring/logs/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Logging</a>
  </li>
  <ul>
    <li class="collapse " id="docsmonitoringlogs">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsmonitoringmetricsmetrics" href="../../../../docs/monitoring/metrics/metrics/">Metrics</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/troubleshooting/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Troubleshooting</a>
  </li>
  <ul>
    <li class="collapse " id="docstroubleshooting">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingtroubleshooting-application-deployment" href="../../../../docs/troubleshooting/troubleshooting-application-deployment/">Application Deployment</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingtroubleshooting-multicluster" href="../../../../docs/troubleshooting/troubleshooting-multicluster/">Multicluster</a>
        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/troubleshooting/diagnostictools/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Diagnostic Tools</a>
  </li>
  <ul>
    <li class="collapse " id="docstroubleshootingdiagnostictools">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsverrazzanoanalysistool" href="../../../../docs/troubleshooting/diagnostictools/verrazzanoanalysistool/">Verrazzano Analysis Tools</a>
        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Analysis Advice</a>
  </li>
  <ul>
    <li class="collapse " id="docstroubleshootingdiagnostictoolsanalysisadvice">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullbackoff" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullbackoff/">Image Pull Back Off</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullnotfound" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullnotfound/">Image Pull Not Found</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullratelimit" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullratelimit/">Image Pull Rate Limit</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullservice" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullservice/">Image Pull Service Issue</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressnoloadbalancerip" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressnoloadbalancerip/">Ingress Controller No Load Balancer IP</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressociiplimitexceeded" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressociiplimitexceeded/">Ingress Controller OCI IP Limit Exceeded</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceinstallfailure" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/installfailure/">Install Failure</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressinstallfailure" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressinstallfailure/">Install Ingress Controller Failure</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadviceinsufficientmemory" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/insufficientmemory/">Insufficient Memory</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadvicependingpods" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/pendingpods/">Pending Pods</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingdiagnostictoolsanalysisadvicepodproblemsnotreported" href="../../../../docs/troubleshooting/diagnostictools/analysisadvice/podproblemsnotreported/">Problem Pods</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docstroubleshootingtroubleshooting" href="../../../../docs/troubleshooting/troubleshooting/">Known Issues</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Examples</a>
  </li>
  <ul>
    <li class="collapse " id="docssamples">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssamplesapplication-deployment-guide" href="../../../../docs/samples/application-deployment-guide/">Application Deployment</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssampleslift-and-shift" href="../../../../docs/samples/lift-and-shift/">Lift-and-Shift</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssampleshello-world" href="../../../../docs/samples/hello-world/">Hello World Helidon</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssamplessock-shop" href="../../../../docs/samples/sock-shop/">Sock Shop</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssamplesspring-boot" href="../../../../docs/samples/spring-boot/">Spring Boot</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssamplesstandard-kubernetes" href="../../../../docs/samples/standard-kubernetes/">Standard Kubernetes Resources</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssamplestodo-list" href="../../../../docs/samples/todo-list/">ToDo List</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docssamplesbobs-books" href="../../../../docs/samples/bobs-books/">Bob&#39;s Books</a>
        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/multicluster/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Multicluster</a>
  </li>
  <ul>
    <li class="collapse " id="docssamplesmulticluster">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/multicluster/hello-helidon/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section"></a>
  </li>
  <ul>
    <li class="collapse " id="docssamplesmulticlusterhello-helidon">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/multicluster/sock-shop/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section"></a>
  </li>
  <ul>
    <li class="collapse " id="docssamplesmulticlustersock-shop">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/multicluster/todo-list/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section"></a>
  </li>
  <ul>
    <li class="collapse " id="docssamplesmulticlustertodo-list">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/helidon-config/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section"></a>
  </li>
  <ul>
    <li class="collapse " id="docssampleshelidon-config">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/samples/hello-helidon/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section"></a>
  </li>
  <ul>
    <li class="collapse " id="docssampleshello-helidon">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/reference/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Reference</a>
  </li>
  <ul>
    <li class="collapse " id="docsreference">
      
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/reference/api/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">API</a>
  </li>
  <ul>
    <li class="collapse " id="docsreferenceapi">
      
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapioamingresstrait" href="../../../../docs/reference/api/oam/ingresstrait/">IngressTrait CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapioammetricstrait" href="../../../../docs/reference/api/oam/metricstrait/">MetricsTrait CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlustermulticlusterapplicationconfiguration" href="../../../../docs/reference/api/multicluster/multiclusterapplicationconfiguration/">MultiClusterApplicationConfiguration CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlustermulticlustercomponent" href="../../../../docs/reference/api/multicluster/multiclustercomponent/">MultiClusterComponent CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlustermulticlusterconfigmap" href="../../../../docs/reference/api/multicluster/multiclusterconfigmap/">MultiClusterConfigMap CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlustermulticlusterresourcestatus" href="../../../../docs/reference/api/multicluster/multiclusterresourcestatus/">MultiClusterResourceStatus Subresource</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlustermulticlustersecret" href="../../../../docs/reference/api/multicluster/multiclustersecret/">MultiClusterSecret CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlusterplacement" href="../../../../docs/reference/api/multicluster/placement/">Placement Subresource</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapiverrazzanoverrazzano" href="../../../../docs/reference/api/verrazzano/verrazzano/">Verrazzano CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapioamworkloads" href="../../../../docs/reference/api/oam/workloads/">Verrazzano Workload CRDs</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlusterverrazzanomanagedcluster" href="../../../../docs/reference/api/multicluster/verrazzanomanagedcluster/">VerrazzanoManagedCluster CRD</a>
        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceapimulticlusterverrazzanoproject" href="../../../../docs/reference/api/multicluster/verrazzanoproject/">VerrazzanoProject CRD</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          
          
          <a class="td-sidebar-link td-sidebar-link__page " id="m-docsreferenceversions" href="../../../../docs/reference/versions/">Software versions</a>
        
      
      
    </li>
  </ul>
</ul>

        
      
      
      
        
          






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="../../../../docs/releasenotes/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Release Notes</a>
  </li>
  <ul>
    <li class="collapse " id="docsreleasenotes">
      
      
      
    </li>
  </ul>
</ul>

        
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            











<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#ingress">Ingress</a></li>
        <li><a href="#system-traffic">System traffic</a></li>
        <li><a href="#application-traffic">Application Traffic</a></li>
        <li><a href="#proxies">Proxies</a></li>
        <li><a href="#multicluster">Multicluster</a></li>
      </ul>
    </li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="https://verrazzano.io/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="https://verrazzano.io/docs/networking/">Networking</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="https://verrazzano.io/docs/networking/traffic/net-traffic/">Network Traffic</a>
</li>

	</ol>
</nav	>

            
<div class="td-content">
	<h1>Network Traffic</h1>
    <div class="lead">Verrazzano network traffic</div>
	       
	<p>Network traffic refers to the data flowing across the network.  In the context of this
document, it is useful to think of network traffic from two perspectives: traffic
based on direction and traffic related to component types, system or applications.
Traffic direction is either north-south traffic, which enters and leaves the cluster,
or east-west traffic, which stays within the cluster.</p>
<p>First is a description of getting traffic into the cluster, then how traffic flows after
it is in the cluster.</p>
<h2 id="ingress">Ingress</h2>
<p>Ingress is an overloaded term, so it needs
to be understood in context.  Sometimes the term means external access into the
cluster, as in &ldquo;ingress to the cluster.&rdquo;  The term also refers to the Kubernetes
Ingress resource. In addition, it might be used to mean network ingress to a container in a Pod.
Here, it&rsquo;s used to refer to both general ingress into the cluster and the Kubernetes
Ingress resource.</p>
<p>During installation, Verrazzano creates the necessary network resources to access both
system components and applications.  The following ingress and load balancers description
is in the context of a Verrazzano installation.</p>
<h3 id="loadbalancer-services">LoadBalancer Services</h3>
<p>To reach Pods from outside a cluster, an external IP address must be exposed using a LoadBalancer or NodePort
service.  Verrazzano creates two LoadBalancer services, one for system component traffic
and another for application traffic. The specifics of how the service gets traffic into the cluster
depends on the underlying Kubernetes platform.  With Oracle OKE, creating a LoadBalancer type service will
result in an OCI load balancer being created and configured to load balance to a set of Pods.</p>
<h3 id="ingress-for-system-components">Ingress for system components</h3>
<p>To provide ingress to system components, Verrazzano installs a NGINX Ingress Controller,
which includes a NGINX load balancer.  Verrazzano also creates Kubernetes
Ingress resources to configure ingress for each system component that requires ingress.
An Ingress resource is used is to specify HTTP/HTTPS routes to Kubernetes services, along
with an endpoint hostname and a TLS certificate. An Ingress by itself doesn&rsquo;t do anything;
it is just a resource. An ingress controller is needed to watch Ingress resources and
reconcile them, configuring the underlying Kubernetes load balancer to handle the service
routing. The NGINX Ingress Controller processes Ingress resources and configures NGINX with
the ingress route information, and such.</p>
<p>The NGINX Ingress Controller is a LoadBalancer service, as seen here:</p>
<pre><code>$ kubectl get service -n ingress-nginx
...
ingress-controller-ingress-nginx-controller           LoadBalancer
</code></pre><p>Using the OKE example, traffic entering the OCI load balancer is routed to the NGINX load
balancer, then routed from there to the Pods belonging to the services described in the Ingress.</p>
<h3 id="ingress-for-applications">Ingress for applications</h3>
<p>Verrazzano also provides ingress into applications, but uses an Istio ingress gateway, which is
an Envoy proxy, instead of NGINX.  Istio has a Gateway resource that provides load balancer information,
such as hosts, ports, and certificates for traffic coming into the mesh.
For more information, see <a href="HTTPS://istio.io/latest/docs/reference/config/networking/gateway/">Istio Gateway</a>.  Just as an
Ingress needs a corresponding Ingress controller, the same is true for the Gateway resource, where there is a
corresponding Istio ingress gateway controller. However, unlike the Ingress, the Gateway
resource doesn&rsquo;t have service routing information.  That is
handled by the Istio VirtualService resource.  The combination of Gateway and VirtualService is
basically a superset of Ingress, because the combination provides more features than Ingress.
In summary, the Istio ingress gateway provides ingress to the cluster using information from both
the Gateway and VirtualService resources.</p>
<p>Because Verrazzano doesn&rsquo;t create any applications during installations, there is no need to
create a Gateway and VirtualService at that time.  However, during installation, Verrazzano does
create the Istio ingress gateway, which is a LoadBalancer service, along with the
Istio egress gateway, which is a ClusterIP service.</p>
<pre><code>$ kubectl get service -n istio-system
...
istio-ingressgateway   LoadBalancer
</code></pre><p>Again, referring to the OKE use case, this means that there will another OCI load balancer created,
routing traffic to the Istio ingress gateway Pod, for example, the Envoy proxy.</p>
<h3 id="external-dns">External DNS</h3>
<p>When you install Verrazzano, you can optionally specify an external DNS for your domain.  If you do that,
Verrazzano will not only create the DNS records, using ExternalDNS, but also it will configure your host
name in the Ingress resources. You can then use that host name to access the system components through the
NGINX Ingress Controller.</p>
<h2 id="system-traffic">System traffic</h2>
<p>System traffic includes all traffic that enters and leaves system Pods.</p>
<h3 id="north-south-system-traffic">North-South system traffic</h3>
<p>North-south traffic includes all system traffic that enters or leaves a Kubernetes cluster.</p>
<h4 id="ingress-1">Ingress</h4>
<p>The following lists the Verrazzano system components which are accessed through the NGINX Ingress Controller
from a client external to the cluster:</p>
<ul>
<li>Elasticsearch</li>
<li>Keycloak</li>
<li>Kibana</li>
<li>Grafana</li>
<li>Prometheus</li>
<li>Rancher</li>
<li>Verrazzano Console</li>
<li>Verrazzano API</li>
</ul>
<h4 id="egress">Egress</h4>
<p>The following table shows Verrazzano system components that initiate requests to a destination
outside the cluster.</p>
<table>
<thead>
<tr>
<th>Component</th>
<th align="left">Destination</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cert-manager</td>
<td align="left">Let&rsquo;s Encrypt</td>
<td align="left">Get signed certificate.</td>
</tr>
<tr>
<td>Elasticsearch</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for authentication, which includes redirects.</td>
</tr>
<tr>
<td>ExternalDNS</td>
<td align="left">External DNS</td>
<td align="left">Create and delete DNS entries in an external DNS.</td>
</tr>
<tr>
<td>Fluentd</td>
<td align="left">Elasticsearch</td>
<td align="left">Fluentd on the managed cluster calls Elasticsearch on the admin cluster.</td>
</tr>
<tr>
<td>Grafana</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for authentication, which includes redirects.</td>
</tr>
<tr>
<td>Kibana</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for authentication, which includes redirects.</td>
</tr>
<tr>
<td>Prometheus</td>
<td align="left">Prometheus</td>
<td align="left">Prometheus on the admin cluster scrapes metrics from Prometheus on the managed cluster.</td>
</tr>
<tr>
<td>Rancher Agent</td>
<td align="left">Rancher</td>
<td align="left">Rancher agent on the managed cluster sends requests to Rancher on the admin cluster.</td>
</tr>
<tr>
<td>Verrazzano API Proxy</td>
<td align="left">Keycloak</td>
<td align="left">API proxy on the managed cluster calls Keycloak on the admin cluster.</td>
</tr>
<tr>
<td>Verrazzano Platform Operator</td>
<td align="left">Kubernetes API server</td>
<td align="left">Multicluster agent on the managed cluster calls API server on the admin cluster.</td>
</tr>
</tbody>
</table>
<h3 id="east-west-system-traffic">East-West system traffic</h3>
<p>The following tables show Verrazzano system components that send traffic to a destination
inside the cluster, with the following exceptions:</p>
<ul>
<li>Usage of CoreDNS: It can be assumed that any Pod in the cluster can access CoreDNS for name resolution.</li>
<li>Envoy to Istiod: The Envoy proxies all make requests to the Istio control plane to get dynamic configuration, and such.
This includes both the gateways and the mesh sidecar proxies. That traffic is not shown.</li>
<li>Traffic within a component is not shown, for example, traffic between
Elasticsearch Pods.</li>
<li>Prometheus scraping traffic is shown in the second table.</li>
</ul>
<table>
<thead>
<tr>
<th>Component</th>
<th align="left">Destination</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cert-manager</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Elasticsearch</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for token authentication.</td>
</tr>
<tr>
<td>Fluentd</td>
<td align="left">Elasticsearch</td>
<td align="left">Fluentd sends data to Elasticsearch.</td>
</tr>
<tr>
<td>Grafana</td>
<td align="left">Prometheus</td>
<td align="left">UI for Prometheus data.</td>
</tr>
<tr>
<td>Grafana</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for token authentication.</td>
</tr>
<tr>
<td>Kibana</td>
<td align="left">Elasticsearch</td>
<td align="left">UI for Elasticsearch.</td>
</tr>
<tr>
<td>Kibana</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for token authentication.</td>
</tr>
<tr>
<td>NGINX Ingress Controller</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Istio</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Prometheus</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar calls Keycloak for token authentication.</td>
</tr>
<tr>
<td>Rancher</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Verrazzano API Proxy</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Verrazzano Application Operator</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Verrazzano Monitoring Operator</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Verrazzano Operator</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Verrazzano Platform Operator</td>
<td align="left">Kubernetes API server</td>
<td align="left">Perform CRUD operations on Kubernetes resources.</td>
</tr>
<tr>
<td>Verrazzano Platform Operator</td>
<td align="left">Rancher</td>
<td align="left">Register the managed cluster with Rancher.</td>
</tr>
</tbody>
</table>
<h4 id="prometheus-scraping-traffic">Prometheus scraping traffic</h4>
<p>This table shows Prometheus traffic for each system component scrape target.</p>
<table>
<thead>
<tr>
<th align="left">Target</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">cadvisor</td>
<td align="left">Kubernetes metrics.</td>
</tr>
<tr>
<td align="left">Elasticsearch</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Grafana</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Istiod</td>
<td align="left">Istio control plane metrics.</td>
</tr>
<tr>
<td align="left">Istiod</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Istio egress gateway</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Istio ingress gateway</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Keycloak</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Kibana</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">MySQL</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">NGINX Ingress Controller</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">NGINX Ingress Controller</td>
<td align="left">NGINX metrics.</td>
</tr>
<tr>
<td align="left">NGINX default back end</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Node exporter</td>
<td align="left">Node metrics.</td>
</tr>
<tr>
<td align="left">Prometheus</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Prometheus</td>
<td align="left">Prometheus metrics.</td>
</tr>
<tr>
<td align="left">Verrazzano console</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">Verrazzano API</td>
<td align="left">Envoy metrics.</td>
</tr>
<tr>
<td align="left">WebLogic operator</td>
<td align="left">Envoy metrics.</td>
</tr>
</tbody>
</table>
<h4 id="webhooks">Webhooks</h4>
<p>Several of the system components are controllers, and some of those have webhooks.
Webhooks are called by the Kubernetes API server on a component HTTPS port
to validate or mutate API payloads before they reach the API server.</p>
<p>The following components use webhooks:</p>
<ul>
<li>cert-manager</li>
<li>Coherence Operator</li>
<li>Istio</li>
<li>Rancher</li>
<li>Verrazzano Application Operator</li>
<li>Verrazzano Platform Operator</li>
</ul>
<h2 id="application-traffic">Application Traffic</h2>
<p>Application traffic includes all traffic to and from Verrazzano applications.</p>
<h3 id="north-south-application-traffic">North-South application traffic</h3>
<p>After Verrazzano is installed, you can deploy applications into the Istio mesh.  When doing so, you will
likely need ingress into the application.  As previously mentioned, this can be done with
Istio using the Gateway and VirtualService resources.  Verrazzano will create those resources
for you when you use an IngressTrait in your ApplicationConfiguration.  The Istio
ingress gateway created during installation will be shared by all applications in the mesh,
and the Gateway resource is bound to the Istio ingress gateway that was created
during installation.  This is done by the selector field in the Gateway:</p>
<pre><code>   selector:
     istio: ingressgateway
</code></pre><p>Verrazzano creates a Gateway/VirtualService pair for each IngressTrait.
Following is an example of those two resources created by Verrazzano.</p>
<p>Here is the Gateway; in this case both the host name and certificate were generated
by Verrazzano.</p>
<pre><code>apiVersion: v1
items:
- apiVersion: networking.istio.io/v1beta1
  kind: Gateway
  metadata:
   ...
    name: hello-helidon-hello-helidon-appconf-gw
    namespace: hello-helidon
  ...
  spec:
    selector:
      istio: ingressgateway
    servers:
    - hosts:
      - hello-helidon-appconf.hello-helidon.1.2.3.4.nip.io
      port:
        name: HTTPS
        number: 443
        protocol: HTTPS
      tls:
        credentialName: hello-helidon-hello-helidon-appconf-cert-secret
        mode: SIMPLE
</code></pre><p>Here is the VirtualService; notice that it refers back to the Gateway and
that it contains the service routing information.</p>
<pre><code>apiVersion: v1
items:
- apiVersion: networking.istio.io/v1beta1
  kind: VirtualService
  metadata:
  ...
    name: hello-helidon-ingress-rule-0-vs
    namespace: hello-helidon
  spec:
    gateways:
    - hello-helidon-hello-helidon-appconf-gw
    hosts:
    - hello-helidon-appconf.hello-helidon.1.2.3.4.nip.io
    HTTP:
    - match:
      - uri:
          prefix: /greet
      route:
      - destination:
          host: hello-helidon
          port:
            number: 8080
</code></pre><h3 id="east-west-application-traffic">East-West application traffic</h3>
<p>To manage east-west traffic, each service in the mesh should be routed using a VirtualService and an optional
DestinationRule.  You can still send east-west traffic without either of these resources, but you won’t get any custom
routing or load balancing.  Verrazzano doesn&rsquo;t configure east-west traffic.  Consider <code>bobbys-front-end</code> in the Bob&rsquo;s Books example at
<a href="HTTPS://github.com/verrazzano/verrazzano/blob/master/examples/bobs-books/bobs-books-comp.yaml">bobs-books-comp.yaml</a>.
When deploying Bob&rsquo;s Books, a VirtualService is created for <code>bobbys-front-end</code>, because of the IngressTrait, but there are
no VirtualServices for the other services in the application.  When <code>bobbys-front-end</code> sends requests to
<code>bobbys-helidon-stock-application</code>, this east-west traffic still goes to <code>bobbys-helidon-stock-application</code> through
the Envoy sidecar proxies in the source and destination Pods, but there is no VirtualService representing
<code>bobbys-helidon-stock-application</code>, where you could specify a canary deployment or custom load balancing.  This
is something you could configure manually, but it is not configured by Verrazzano.</p>
<h2 id="proxies">Proxies</h2>
<p>Verrazzano uses network proxies in multiple places.  The two proxy products are Envoy and NGINX.
The following table shows which proxies are used and in which Pod they run.</p>
<table>
<thead>
<tr>
<th>Usage</th>
<th align="left">Proxy</th>
<th align="left">Pod</th>
<th align="left">Namespace</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>System ingress</td>
<td align="left">NGINX</td>
<td align="left"><code>ingress-controller-ingress-nginx-controller-*</code></td>
<td align="left"><code>ingress-nginx</code></td>
<td align="left">Provides external access to Verrazzano system components.</td>
</tr>
<tr>
<td>OIDC proxy sidecar</td>
<td align="left">NGINX</td>
<td align="left"><code>vmi-system-es-ingest-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch authentication.</td>
</tr>
<tr>
<td>OIDC proxy sidecar</td>
<td align="left">NGINX</td>
<td align="left"><code>vmi-system-kibana-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch authentication.</td>
</tr>
<tr>
<td>OIDC proxy sidecar</td>
<td align="left">NGINX</td>
<td align="left"><code>vmi-system-prometheus-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch authentication.</td>
</tr>
<tr>
<td>OIDC proxy sidecar</td>
<td align="left">NGINX</td>
<td align="left"><code>vmi-system-grafana-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch authentication.</td>
</tr>
<tr>
<td>OIDC proxy sidecar</td>
<td align="left">NGINX</td>
<td align="left"><code>verrazzano-api-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Verrazzano API server that proxies to Kubernetes API server.</td>
</tr>
<tr>
<td>Application ingress</td>
<td align="left">Envoy</td>
<td align="left"><code>istio-ingressgateway-*</code></td>
<td align="left"><code>istio-system</code></td>
<td align="left">Provides external access to Verrazzano applications.</td>
</tr>
<tr>
<td>Application egress</td>
<td align="left">Envoy</td>
<td align="left"><code>istio-egressgateway-*</code></td>
<td align="left"><code>istio-system</code></td>
<td align="left">Provides control of application egress traffic.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>ingress-controller-ingress-nginx-controller-*</code></td>
<td align="left"><code>ingress-nginx</code></td>
<td align="left">NGINX Ingress Controller in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>ingress-controller-ingress-nginx-defaultbackend-*</code></td>
<td align="left"><code>ingress-nginx</code></td>
<td align="left">NGINX default backend in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>fluentd-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Fluentd in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>keycloak-*</code></td>
<td align="left"><code>keycloak</code></td>
<td align="left">Keycloak in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>mysql-*</code></td>
<td align="left"><code>keycloak</code></td>
<td align="left">MySQL used by Keycloak in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>verrazzano-api-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Verrazzano API in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>verrazzano-console-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Verrazzano console in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>vmi-system-es-master-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>vmi-system-es-data-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>vmi-system-es-ingest-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Elasticsearch in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>vmi-system-kibana-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Kibana in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>vmi-system-prometheus-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Prometheus in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>vmi-system-grafana-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">Grafana in the Istio mesh.</td>
</tr>
<tr>
<td>Istio mesh sidecar</td>
<td align="left">Envoy</td>
<td align="left"><code>weblogic-operator-*</code></td>
<td align="left"><code>verrazzano-system</code></td>
<td align="left">WebLogic operator in the Istio mesh.</td>
</tr>
</tbody>
</table>
<h2 id="multicluster">Multicluster</h2>
<p>Some Verrazzano components send traffic between Kubernetes clusters. Those components are the Verrazzano agent,
Verrazzano API proxy, the OIDC proxy, and Prometheus.</p>
<h3 id="multicluster-egress">Multicluster egress</h3>
<p>The following table shows Verrazzano system components that initiate requests between the admin and managed clusters.
All of these requests go through the NGINX Ingress Controller on the respective destination cluster.</p>
<table>
<thead>
<tr>
<th>Source Cluster</th>
<th align="left">Source Component</th>
<th align="left">Destination Cluster</th>
<th align="left">Destination Component</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Admin</td>
<td align="left">Prometheus</td>
<td align="left">Managed</td>
<td align="left">Prometheus</td>
<td align="left">Scape metrics on managed clusters.</td>
</tr>
<tr>
<td>Admin</td>
<td align="left">Verrazzano Console</td>
<td align="left">Managed</td>
<td align="left">Verrazzano API proxy</td>
<td align="left">Console proxy sends requests to  API proxy.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Fluentd</td>
<td align="left">Admin</td>
<td align="left">Elasticsearch</td>
<td align="left">Fluentd sends logs to Elasticsearch.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Elasticsearch</td>
<td align="left">Admin</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar sends requests to  Keycloak.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Kibana</td>
<td align="left">Admin</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar sends requests to  Keycloak.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Grafana</td>
<td align="left">Admin</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar sends requests to  Keycloak.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Prometheus</td>
<td align="left">Admin</td>
<td align="left">Keycloak</td>
<td align="left">OIDC sidecar sends requests to  Keycloak.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Rancher Agent</td>
<td align="left">Admin</td>
<td align="left">Rancher</td>
<td align="left">Rancher Agent sends requests Rancher.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Verrazzano API proxy</td>
<td align="left">Admin</td>
<td align="left">Keycloak</td>
<td align="left">API proxy sends requests to  Keycloak.</td>
</tr>
<tr>
<td>Managed</td>
<td align="left">Verrazzano Agent</td>
<td align="left">Admin</td>
<td align="left">Kubernetes API server</td>
<td align="left">Agent, in the platform operator, sends requests Kubernetes API server.</td>
</tr>
</tbody>
</table>
<h3 id="verrazzano-agent">Verrazzano agent</h3>
<p>In the multicluster topology, the Verrazzano platform operator has an agent thread running on the managed cluster
that sends requests to the Kubernetes API server on the admin cluster. The URL for the admin cluster Kubernetes
API server is registered on the managed cluster by the user.</p>
<h3 id="verrazzano-api-proxy">Verrazzano API proxy</h3>
<p>In a multicluster topology, the Verrazzano API proxy runs on both the admin and managed clusters.<br>
On the admin cluster, the API proxy connects to in-cluster Keycloak, using the Keycloak Service.
On the managed cluster, the API proxy connects to Keycloak on the admin cluster through the NGINX Ingress
controller running on the admin cluster.</p>
<h3 id="verrazzano-oidc-proxy">Verrazzano OIDC proxy</h3>
<p>The OIDC proxy runs as a sidecar in the Elasticsearch, Kibana, Prometheus, and Grafana Pods.  This proxy
also needs to send requests to Keycloak, either in-cluster or through the cluster ingress.  When a
request comes into the OIDC proxy without an authentication header, the proxy sends a request to Keycloak
through the NGINX Ingress Controller, so the request exits the cluster.  Otherwise, if OIDC is on the admin cluster, then the request is
sent directly to Keycloak within the cluster.  If OIDC is on the managed
cluster, then it must send requests to Keycloak on the admin cluster.</p>
<h3 id="prometheus">Prometheus</h3>
<p>A single Prometheus service in the cluster, scrapes metrics from Pods in system components and applications.
It also scrapes Pods in the Istio mesh using HTTPS, and outside the mesh using HTTP. In the multicluster case,
the Prometheus on the admin cluster, scrapes metrics from Prometheus on the managed cluster, through
the NGINX Ingress Controller on the managed cluster.</p>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="feedback--answer feedback--answer-yes">Yes</button>
<button class="feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/verrazzano/docs/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/verrazzano/docs/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified July 13, 2021: <a  href="../../../../commit/e237c4a1fd694a48966daa8b51775e69e20e9f0d">overall edit (#177) (e237c4a)</a>
</div>
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/verrazzano_io">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/tags/verrazzano">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/verrazzano/verrazzano">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://bit.ly/3gOeRJn">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2021 Oracle and/or its affiliates</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>













<script src="../../../../js/main.min.460c8ae21829f9b330823a08f34ac961d7d0daa8874c8c9eba7ea0484bb42a79.js" integrity="sha256-RgyK4hgp&#43;bMwgjoI80rJYdfQ2qiHTIyeun6gSEu0Knk=" crossorigin="anonymous"></script>




  </body>
</html>
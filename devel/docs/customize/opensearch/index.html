<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.94.2" />
<meta name="robots" content="index, follow">


<link rel="shortcut icon" href="../../../favicons/favicon.ico" >
<link rel="apple-touch-icon" href="../../../favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="../../../favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="../../../favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="../../../favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="../../../favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="../../../favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="../../../favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="../../../favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="../../../favicons/android-192x192.png" sizes="192x192">

<title>OpenSearch | Verrazzano Enterprise Container Platform</title>
<meta name="description" content="Learn how to customize your OpenSearch cluster configuration">
<meta property="og:title" content="OpenSearch" />
<meta property="og:description" content="Learn how to customize your OpenSearch cluster configuration" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/docs/customize/opensearch/" /><meta property="article:section" content="docs" />

<meta property="article:modified_time" content="2023-02-03T15:30:03+05:30" /><meta property="og:site_name" content="Verrazzano Enterprise Container Platform" />

<meta itemprop="name" content="OpenSearch">
<meta itemprop="description" content="Learn how to customize your OpenSearch cluster configuration">
<meta itemprop="dateModified" content="2023-02-03T15:30:03+05:30" />
<meta itemprop="wordCount" content="4805">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OpenSearch"/>
<meta name="twitter:description" content="Learn how to customize your OpenSearch cluster configuration"/>




<link rel="preload" href="../../../scss/main.min.55f9f39bd7951bea4857a95cf52d4dd5d96d25939926bbbf6f07c114cfe02b50.css" as="style">
<link href="../../../scss/main.min.55f9f39bd7951bea4857a95cf52d4dd5d96d25939926bbbf6f07c114cfe02b50.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177109661-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </head>
  <body class="td-page">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="../../../">
		<span class="navbar-logo"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 178.27 30.14"><defs><style>.cls-1{fill:#488eaf}.cls-2{fill:#83b7d0}.cls-3{fill:#fff}.cls-4{fill:#004f78}</style></defs><path class="cls-1" d="M11.61 10.27v9.84l1.14 2 .29.27V7.92a15.15 15.15.0 01-1.43 2.35z"/><path class="cls-1" d="M7.94 13.76l1.38 2.38V12.78a11.92 11.92.0 01-1.38.98z"/><path class="cls-1" d="M9.89 12.28v4.85l1.15 2V11A13.61 13.61.0 019.89 12.28z"/><path class="cls-1" d="M13 0H0L7 12.1C11.82 9.18 12.83 2.63 13 0z"/><path class="cls-1" d="M27.79 12.15 34.8.0H21.73V.54C21.86 3.49 22.76 9.67 27.79 12.15z"/><path class="cls-1" d="M20 4.77V.71c0-.26.0-.49.0-.71H14.85V4.77z"/><polygon class="cls-1" points="19.91 13.36 14.85 13.36 14.85 23.48 13.56 23.48 17.4 30.14 21.25 23.48 19.91 23.48 19.91 13.36"/><path class="cls-1" d="M23.64 11.36v8l1.14-2v-4.9a11.85 11.85.0 01-1.14-1.1z"/><rect class="cls-1" x="14.85" y="6.68" width="5.06" height="4.77"/><path class="cls-1" d="M25.35 16.37l1.48-2.56a11.74 11.74.0 01-1.48-.91z"/><path class="cls-1" d="M21.82 8.56v14l1.24-2.22V10.68A13 13 0 0121.82 8.56z"/><path class="cls-2" d="M29.08 3.63H24.69a1.24 1.24.0 000-2.48H18.77a1.24 1.24.0 100 2.48h-12a1.24 1.24.0 000 2.48H9.6a1.24 1.24.0 100 2.48h5.73a1.24 1.24.0 100-2.48H29.08a1.24 1.24.0 100-2.48z"/><path class="cls-3" d="M21.73.54V0H19.89c0 .22.0.45.0.71V4.77H14.85V0H13c-.17 2.63-1.13 9.18-6 12.1l1 1.66a11.92 11.92.0 001.38-1v3.36l.57 1V12.28A13.61 13.61.0 0011 11v8.07l.57 1v-9.8A15 15 0 0013 7.92v14.5l.57 1.06h1.29V13.36h5.06V23.48h1.34l.57-.92v-14a13 13 0 001.24 2.12v9.66l.58-1v-8a11.85 11.85.0 001.14 1.1v4.9l.57-1V12.9a11.74 11.74.0 001.48.91l1-1.66C22.76 9.67 21.86 3.49 21.73.54zM19.91 11.45H14.85V6.68h5.06z"/><polygon class="cls-4" points="12.75 22.15 22.06 22.15 17.4 30.14 12.75 22.15"/><path class="cls-3" d="M42.54 9.39H45.6L40.8 23.48H38L33.25 9.39H36.4l3.05 10.7z"/><path class="cls-3" d="M58.75 11.89H51.3v3h6.84v2.45H51.3V21h7.8v2.53H48.42V9.39H58.75z"/><path class="cls-3" d="M71.4 9.76a3.46 3.46.0 011.32 1 4.44 4.44.0 01.7 1.19 3.8 3.8.0 01.26 1.48 4.15 4.15.0 01-.5 2 2.81 2.81.0 01-1.67 1.37 2.68 2.68.0 011.38 1.12 4.63 4.63.0 01.4 2.2V21a7.27 7.27.0 00.08 1.31 1.19 1.19.0 00.54.8v.35H70.66c-.08-.31-.15-.56-.19-.75a8.13 8.13.0 01-.12-1.22v-1.3a2.65 2.65.0 00-.47-1.8A2.34 2.34.0 0068.19 18H65.31v5.52H62.43V9.39h6.74A6 6 0 0171.4 9.76zm-6.09 2.08v3.79h3.17a3.45 3.45.0 001.42-.23 1.6 1.6.0 00.83-1.59 1.78 1.78.0 00-.81-1.72 2.84 2.84.0 00-1.36-.25z"/><path class="cls-3" d="M86.51 9.76a3.46 3.46.0 011.32 1 4.22 4.22.0 01.71 1.19 4 4 0 01.26 1.48 4.16 4.16.0 01-.51 2 2.76 2.76.0 01-1.67 1.37A2.68 2.68.0 0188 17.87a4.62 4.62.0 01.41 2.2V21a6.42 6.42.0 00.08 1.31 1.13 1.13.0 00.54.8v.35H85.78c-.09-.31-.15-.56-.19-.75a7 7 0 01-.13-1.22v-1.3a2.7 2.7.0 00-.47-1.8A2.38 2.38.0 0083.3 18H80.43v5.52H77.55V9.39h6.74A6 6 0 0186.51 9.76zm-6.08 2.08v3.79H83.6A3.4 3.4.0 0085 15.4a1.59 1.59.0 00.84-1.59A1.78 1.78.0 0085 12.09a2.86 2.86.0 00-1.36-.25z"/><path class="cls-3" d="M96.63 9.39H1e2l5 14.09h-3.19l-.93-2.89H95.63l-.95 2.89H91.6zm-.2 8.77H1e2l-1.78-5.54z"/><path class="cls-3" d="M107.21 21l7.2-9.11h-7V9.39h10.68v2.37L110.77 21h7.32v2.48H107.21z"/><path class="cls-3" d="M121.12 21l7.21-9.11h-7V9.39H132v2.37L124.69 21H132v2.48H121.12z"/><path class="cls-3" d="M139.08 9.39h3.33l5 14.09h-3.19l-.93-2.89h-5.19l-1 2.89h-3.08zm-.19 8.77h3.61l-1.78-5.54z"/><path class="cls-3" d="M150.12 9.39h3.09l5.59 9.83V9.39h2.74V23.48H158.6l-5.73-10v10h-2.75z"/><path class="cls-3" d="M176.13 22.23a7.31 7.31.0 01-9.23.0 7.58 7.58.0 01-2.14-5.81q0-3.87 2.14-5.81a7.28 7.28.0 019.23.0q2.15 1.94 2.14 5.81A7.58 7.58.0 01176.13 22.23zm-1.84-2.14a5.73 5.73.0 001-3.67 5.77 5.77.0 00-1-3.67 3.35 3.35.0 00-2.77-1.29 3.39 3.39.0 00-2.79 1.29 5.67 5.67.0 00-1 3.67 5.67 5.67.0 001 3.67 3.39 3.39.0 002.79 1.29A3.35 3.35.0 00174.29 20.09z"/></svg></span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="../../../docs/" ><span class="active">Documentation</span></a>
			</li>
			
			
			
				<li class="nav-item dropdown d-none d-lg-block">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	v1.5
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="https://verrazzano.io/v1.5/docs">v1.5</a>
	
	<a class="dropdown-item" href="https://verrazzano.io/v1.4/docs">v1.4</a>
	
	<a class="dropdown-item" href="https://verrazzano.io/v1.3/docs">v1.3</a>
	
	<a class="dropdown-item" href="https://verrazzano.io/v1.2/docs">v1.2</a>
	
	<a class="dropdown-item" href="https://verrazzano.io/v1.1/docs">v1.1</a>
	
	<a class="dropdown-item" href="https://verrazzano.io/archive/docs">Archive</a>
	
</div>

				</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block"><input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.4ca1033da62ce62f04e63964944303d3.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            
<div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    <input
  type="search"
  class="form-control td-search-input"
  placeholder="&#xf002; Search this site…"
  aria-label="Search this site…"
  autocomplete="off"
  
  data-offline-search-index-json-src="../../../offline-search-index.4ca1033da62ce62f04e63964944303d3.json"
  data-offline-search-base-href="../../../"
  data-offline-search-max-results="10"
>

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="collapse td-sidebar-nav" id="td-section-nav">
    <ul class="td-sidebar-nav__section pr-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docs-li">
  <a href="../../../docs/" title="Welcome to Verrazzano" class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-docs"><span class="">Documentation</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsconcepts-li">
  <a href="../../../docs/concepts/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsconcepts"><span class="">Concepts</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsconceptsverrazzanooam-li">
  <a href="../../../docs/concepts/verrazzanooam/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsconceptsverrazzanooam"><span class="">Verrazzano and the Open Application Model</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsconceptsverrazzanomulticluster-li">
  <a href="../../../docs/concepts/verrazzanomulticluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsconceptsverrazzanomulticluster"><span class="">Verrazzano in a Multicluster Environment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsconceptsverrazzanoproject-li">
  <a href="../../../docs/concepts/verrazzanoproject/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsconceptsverrazzanoproject"><span class="">Verrazzano Projects</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsquickstart-li">
  <a href="../../../docs/quickstart/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsquickstart"><span class="">Quick Start</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docssetup-li">
  <a href="../../../docs/setup/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssetup"><span class="">Setup</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupprereqs-li">
  <a href="../../../docs/setup/prereqs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupprereqs"><span class="">Prerequisites</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupcli-li">
  <a href="../../../docs/setup/cli/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssetupcli"><span class="">CLI Setup</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docssetupplatforms-li">
  <a href="../../../docs/setup/platforms/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssetupplatforms"><span class="">Platform Setup</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupplatformsgenericgeneric-li">
  <a href="../../../docs/setup/platforms/generic/generic/" title="Generic Kubernetes" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupplatformsgenericgeneric"><span class="">Generic</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupplatformskindkind-li">
  <a href="../../../docs/setup/platforms/kind/kind/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupplatformskindkind"><span class="">Kind</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupplatformsolcneolcne-li">
  <a href="../../../docs/setup/platforms/olcne/olcne/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupplatformsolcneolcne"><span class="">Oracle Cloud Native Environment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupplatformsocioci-li">
  <a href="../../../docs/setup/platforms/oci/oci/" title="Oracle Cloud Infrastructure Container Engine for Kubernetes (OKE)" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupplatformsocioci"><span class="">OKE</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docssetupinstall-li">
  <a href="../../../docs/setup/install/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssetupinstall"><span class="">Install</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupinstallinstallation-li">
  <a href="../../../docs/setup/install/installation/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupinstallinstallation"><span class="">Install Guide</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupinstallprofiles-li">
  <a href="../../../docs/setup/install/profiles/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupinstallprofiles"><span class="">Installation Profiles</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupinstallmulticluster-li">
  <a href="../../../docs/setup/install/multicluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupinstallmulticluster"><span class="">Install Multicluster Verrazzano</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupinstallmulticluster-no-rancher-li">
  <a href="../../../docs/setup/install/multicluster-no-rancher/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupinstallmulticluster-no-rancher"><span class="">Install Multicluster Verrazzano without Rancher</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssetupprivate-registryprivate-registry-li">
  <a href="../../../docs/setup/private-registry/private-registry/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssetupprivate-registryprivate-registry"><span class="">Use a Private Registry</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsaccess-li">
  <a href="../../../docs/access/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsaccess"><span class="">Access Verrazzano</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-docscustomize-li">
  <a href="../../../docs/customize/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docscustomize"><span class="">Customize Verrazzano</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeauthproxy-li">
  <a href="../../../docs/customize/authproxy/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeauthproxy"><span class="">AuthProxy</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizecertificates-li">
  <a href="../../../docs/customize/certificates/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizecertificates"><span class="">Certificates</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizedns-li">
  <a href="../../../docs/customize/dns/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizedns"><span class="">DNS</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeexternallbs-li">
  <a href="../../../docs/customize/externallbs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeexternallbs"><span class="">External Load Balancers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizenfs-li">
  <a href="../../../docs/customize/nfs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizenfs"><span class="">Network File System</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizegrafana-li">
  <a href="../../../docs/customize/grafana/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizegrafana"><span class="">Grafana</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeha-li">
  <a href="../../../docs/customize/ha/" title="Configure High Availability" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeha"><span class="">High Availability</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeingress-li">
  <a href="../../../docs/customize/ingress/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeingress"><span class="">Ingress</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeistio-li">
  <a href="../../../docs/customize/istio/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeistio"><span class="">Istio</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizekeycloak-li">
  <a href="../../../docs/customize/keycloak/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizekeycloak"><span class="">Keycloak and MySQL</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeociloadbalancerips-li">
  <a href="../../../docs/customize/ociloadbalancerips/" title="Load Balancers on OCI" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeociloadbalancerips"><span class="">OCI Load Balancers</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-docscustomizeopensearch-li">
  <a href="../../../docs/customize/opensearch/" class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id="m-docscustomizeopensearch"><span class="td-sidebar-nav-active-item">OpenSearch</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizestorage-li">
  <a href="../../../docs/customize/storage/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizestorage"><span class="">Persistent Storage</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docscustomizeprometheus-li">
  <a href="../../../docs/customize/prometheus/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docscustomizeprometheus"><span class="">Prometheus</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsuninstall-li">
  <a href="../../../docs/uninstall/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuninstall"><span class="">Upgrade, Back Up, &amp; Uninstall</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsuninstallupgrade-li">
  <a href="../../../docs/uninstall/upgrade/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuninstallupgrade"><span class="">Upgrade</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuninstallupgrademulticluster-li">
  <a href="../../../docs/uninstall/upgrade/multicluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuninstallupgrademulticluster"><span class="">Upgrade Multicluster Verrazzano</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsuninstallbackup-li">
  <a href="../../../docs/uninstall/backup/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsuninstallbackup"><span class="">Back Up and Restore</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuninstallbackupargocd-li">
  <a href="../../../docs/uninstall/backup/argocd/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuninstallbackupargocd"><span class="">Argo CD Backup and Restore</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuninstallbackupkeycloak-li">
  <a href="../../../docs/uninstall/backup/keycloak/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuninstallbackupkeycloak"><span class="">Keycloak Backup and Restore</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuninstallbackupopensearch-li">
  <a href="../../../docs/uninstall/backup/opensearch/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuninstallbackupopensearch"><span class="">OpenSearch Backup and Restore</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuninstallbackuprancher-li">
  <a href="../../../docs/uninstall/backup/rancher/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuninstallbackuprancher"><span class="">Rancher Backup and Restore</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsuninstalluninstall-li">
  <a href="../../../docs/uninstall/uninstall/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsuninstalluninstall"><span class="">Uninstall</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsapplications-li">
  <a href="../../../docs/applications/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplications"><span class="">Applications</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsapplicationsmulticluster-li">
  <a href="../../../docs/applications/multicluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplicationsmulticluster"><span class="">Multicluster</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsapplicationsmulticlustermcresources-li">
  <a href="../../../docs/applications/multicluster/mcresources/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplicationsmulticlustermcresources"><span class="">Multicluster Resources</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsmulticlustermcresourcesmulticlusterapplicationconfigurationmulticlusterapplicationconfiguration-li">
  <a href="../../../docs/applications/multicluster/mcresources/multiclusterapplicationconfiguration/multiclusterapplicationconfiguration/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsmulticlustermcresourcesmulticlusterapplicationconfigurationmulticlusterapplicationconfiguration"><span class="">MultiClusterApplicationConfiguration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsmulticlustermcresourcesmulticlusterresourcestatusmulticlusterresourcestatus-li">
  <a href="../../../docs/applications/multicluster/mcresources/multiclusterresourcestatus/multiclusterresourcestatus/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsmulticlustermcresourcesmulticlusterresourcestatusmulticlusterresourcestatus"><span class="">MultiClusterResourceStatus</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsmulticlustermcresourcesplacementplacement-li">
  <a href="../../../docs/applications/multicluster/mcresources/placement/placement/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsmulticlustermcresourcesplacementplacement"><span class="">Placement</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsmulticlustermcresourcesmanagedclusterverrazzanomanagedcluster-li">
  <a href="../../../docs/applications/multicluster/mcresources/managedcluster/verrazzanomanagedcluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsmulticlustermcresourcesmanagedclusterverrazzanomanagedcluster"><span class="">VerrazzanoManagedCluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsmulticlustermcresourcesprojectverrazzanoproject-li">
  <a href="../../../docs/applications/multicluster/mcresources/project/verrazzanoproject/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsmulticlustermcresourcesprojectverrazzanoproject"><span class="">VerrazzanoProject</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsprojects-li">
  <a href="../../../docs/applications/projects/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplicationsprojects"><span class="">Projects</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsapplicationstraits-li">
  <a href="../../../docs/applications/traits/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplicationstraits"><span class="">Traits</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationstraitsingressingress-li">
  <a href="../../../docs/applications/traits/ingress/ingress/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationstraitsingressingress"><span class="">IngressTrait</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationstraitslogginglogging-li">
  <a href="../../../docs/applications/traits/logging/logging/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationstraitslogginglogging"><span class="">LoggingTrait</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationstraitsmetricsmetrics-li">
  <a href="../../../docs/applications/traits/metrics/metrics/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationstraitsmetricsmetrics"><span class="">MetricsTrait</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsapplicationsworkloads-li">
  <a href="../../../docs/applications/workloads/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplicationsworkloads"><span class="">Workloads</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsworkloadscoherencecoherence-li">
  <a href="../../../docs/applications/workloads/coherence/coherence/" title="Coherence Workload" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsworkloadscoherencecoherence"><span class="">Coherence</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsworkloadshelidonhelidon-li">
  <a href="../../../docs/applications/workloads/helidon/helidon/" title="Helidon Workload" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsapplicationsworkloadshelidonhelidon"><span class="">Helidon</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsapplicationsworkloadsweblogic-li">
  <a href="../../../docs/applications/workloads/weblogic/" title="WebLogic Workload" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsapplicationsworkloadsweblogic"><span class="">WebLogic</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docssecurity-li">
  <a href="../../../docs/security/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssecurity"><span class="">Security</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssecurityappsecappsec-li">
  <a href="../../../docs/security/appsec/appsec/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssecurityappsecappsec"><span class="">Application Security</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssecurityaccountsaccounts-li">
  <a href="../../../docs/security/accounts/accounts/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssecurityaccountsaccounts"><span class="">Default User Accounts</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssecuritykeycloakkeycloak-li">
  <a href="../../../docs/security/keycloak/keycloak/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssecuritykeycloakkeycloak"><span class="">Keycloak and SSO</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssecurityrbacrbac-li">
  <a href="../../../docs/security/rbac/rbac/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssecurityrbacrbac"><span class="">Kubernetes RBAC</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssecurityproxiesproxies-li">
  <a href="../../../docs/security/proxies/proxies/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssecurityproxiesproxies"><span class="">Verrazzano Authentication Proxy</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsnetworking-li">
  <a href="../../../docs/networking/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsnetworking"><span class="">Networking</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsnetworkingsecuritynet-security-li">
  <a href="../../../docs/networking/security/net-security/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsnetworkingsecuritynet-security"><span class="">Network Security</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsnetworkingtrafficnet-traffic-li">
  <a href="../../../docs/networking/traffic/net-traffic/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsnetworkingtrafficnet-traffic"><span class="">Network Traffic</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsmonitoring-li">
  <a href="../../../docs/monitoring/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsmonitoring"><span class="">Logging &amp; Monitoring</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmonitoringtracingjaeger-tracing-li">
  <a href="../../../docs/monitoring/tracing/jaeger-tracing/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmonitoringtracingjaeger-tracing"><span class="">Jaeger Tracing</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmonitoringlogs-li">
  <a href="../../../docs/monitoring/logs/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsmonitoringlogs"><span class="">Logging</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmonitoringmetricsmetrics-li">
  <a href="../../../docs/monitoring/metrics/metrics/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmonitoringmetricsmetrics"><span class="">Metrics</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsmonitoringoci-loggingoci-logging-li">
  <a href="../../../docs/monitoring/oci-logging/oci-logging/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsmonitoringoci-loggingoci-logging"><span class="">Oracle Cloud Infrastructure Logging Service</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docstroubleshooting-li">
  <a href="../../../docs/troubleshooting/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docstroubleshooting"><span class="">Troubleshooting</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingtroubleshooting-application-deployment-li">
  <a href="../../../docs/troubleshooting/troubleshooting-application-deployment/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingtroubleshooting-application-deployment"><span class="">Application Deployment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docstroubleshootingdiagnostictools-li">
  <a href="../../../docs/troubleshooting/diagnostictools/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docstroubleshootingdiagnostictools"><span class="">Diagnostic Tools</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsverrazzanoanalysistool-li">
  <a href="../../../docs/troubleshooting/diagnostictools/verrazzanoanalysistool/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsverrazzanoanalysistool"><span class="">Verrazzano Analysis Tools</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsvzbugreportcli-li">
  <a href="../../../docs/troubleshooting/diagnostictools/vzbugreportcli/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsvzbugreportcli"><span class="">Bug Reports</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadvice-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docstroubleshootingdiagnostictoolsanalysisadvice"><span class="">Analysis Advice</span></a>
  <ul class="ul-4 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceexternaldnsconfiguration-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/externaldnsconfiguration/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceexternaldnsconfiguration"><span class="">External DNS Configuration</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullbackoff-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullbackoff/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullbackoff"><span class="">Image Pull Back Off</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullnotfound-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullnotfound/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullnotfound"><span class="">Image Pull Not Found</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullratelimit-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullratelimit/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullratelimit"><span class="">Image Pull Rate Limit</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullservice-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/imagepullservice/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceimagepullservice"><span class="">Image Pull Service Issue</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressinvalidshape-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressinvalidshape/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressinvalidshape"><span class="">Ingress Controller Invalid Shape</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingresslblimitexceeded-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/ingresslblimitexceeded/" title="Ingress Controller Load Balancer Service Limit Reached" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingresslblimitexceeded"><span class="">Ingress Controller LB Service Limit Reached</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressnoloadbalancerip-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressnoloadbalancerip/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressnoloadbalancerip"><span class="">Ingress Controller No Load Balancer IP</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressociiplimitexceeded-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressociiplimitexceeded/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressociiplimitexceeded"><span class="">Ingress Controller Oracle Cloud Infrastructure IP Limit Exceeded</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceinstallfailure-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/installfailure/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceinstallfailure"><span class="">Install Failure</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressinstallfailure-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/ingressinstallfailure/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceingressinstallfailure"><span class="">Install Ingress Controller Failure</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceinsufficientcpu-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/insufficientcpu/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceinsufficientcpu"><span class="">Insufficient CPU</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceinsufficientmemory-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/insufficientmemory/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceinsufficientmemory"><span class="">Insufficient Memory</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceistioingressgatewaynoloadbalancerip-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/istioingressgatewaynoloadbalancerip/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceistioingressgatewaynoloadbalancerip"><span class="">Istio Ingress Gateway No External IP</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadviceistioloadbalancercreationissue-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/istioloadbalancercreationissue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadviceistioloadbalancercreationissue"><span class="">Istio Ingress Load Balancer Creation Issue</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadvicenginxloadbalancercreationissue-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/nginxloadbalancercreationissue/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadvicenginxloadbalancercreationissue"><span class="">NGINX Ingress Controller Load Balancer Creation Issue</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadvicependingpods-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/pendingpods/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadvicependingpods"><span class="">Pending Pods</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingdiagnostictoolsanalysisadvicepodproblemsnotreported-li">
  <a href="../../../docs/troubleshooting/diagnostictools/analysisadvice/podproblemsnotreported/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingdiagnostictoolsanalysisadvicepodproblemsnotreported"><span class="">Problem Pods</span></a>
</li>
  </ul>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingtroubleshooting-multicluster-li">
  <a href="../../../docs/troubleshooting/troubleshooting-multicluster/" title="Multicluster Verrazzano" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingtroubleshooting-multicluster"><span class="">Multicluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingtroubleshooting-mysql-li">
  <a href="../../../docs/troubleshooting/troubleshooting-mysql/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingtroubleshooting-mysql"><span class="">MySQL</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docstroubleshootingtroubleshooting-prometheus-li">
  <a href="../../../docs/troubleshooting/troubleshooting-prometheus/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docstroubleshootingtroubleshooting-prometheus"><span class="">Prometheus</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsfaq-li">
  <a href="../../../docs/faq/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsfaq"><span class="">FAQ</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsguides-li">
  <a href="../../../docs/guides/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsguides"><span class="">Guides</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsguidesapp-deploymentapplication-deployment-guide-li">
  <a href="../../../docs/guides/app-deployment/application-deployment-guide/" title="Application Deployment Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsguidesapp-deploymentapplication-deployment-guide"><span class="">Application Deployment</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsguidessidecar-li">
  <a href="../../../docs/guides/sidecar/" title="Deploy a Kubernetes Sidecar with Verrazzano" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsguidessidecar"><span class="">Deploy Custom Sidecars</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsguidesha-li">
  <a href="../../../docs/guides/ha/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsguidesha"><span class="">High Availability</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsguideshanode-failure-li">
  <a href="../../../docs/guides/ha/node-failure/" title="Node Failure Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsguideshanode-failure"><span class="">Node Failure</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsguideshaprod-upgrade-li">
  <a href="../../../docs/guides/ha/prod-upgrade/" title="Upgrade prod Installation for High Availability" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsguideshaprod-upgrade"><span class="">Upgrade prod Installation</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsguideslift-and-shiftlift-and-shift-li">
  <a href="../../../docs/guides/lift-and-shift/lift-and-shift/" title="Lift-and-Shift Guide" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsguideslift-and-shiftlift-and-shift"><span class="">Lift-and-Shift</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docssamples-li">
  <a href="../../../docs/samples/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssamples"><span class="">Examples</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesargo-cd-li">
  <a href="../../../docs/samples/argo-cd/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssamplesargo-cd"><span class="">Argo CD</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesbobs-books-li">
  <a href="../../../docs/samples/bobs-books/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssamplesbobs-books"><span class="">Bob&#39;s Books</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssampleshello-world-li">
  <a href="../../../docs/samples/hello-world/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssampleshello-world"><span class="">Hello World Helidon</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docssamplesmulticluster-li">
  <a href="../../../docs/samples/multicluster/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssamplesmulticluster"><span class="">Multicluster</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesmulticlusterhello-helidon-li">
  <a href="../../../docs/samples/multicluster/hello-helidon/" title="Multicluster Hello World Helidon" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssamplesmulticlusterhello-helidon"><span class="">Hello World Helidon</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesmulticlustersock-shop-li">
  <a href="../../../docs/samples/multicluster/sock-shop/" title="Multicluster Helidon Sock Shop" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssamplesmulticlustersock-shop"><span class="">Helidon Sock Shop</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesmulticlustertodo-list-li">
  <a href="../../../docs/samples/multicluster/todo-list/" title="Multicluster ToDo List" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssamplesmulticlustertodo-list"><span class="">ToDo List</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplessock-shop-li">
  <a href="../../../docs/samples/sock-shop/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssamplessock-shop"><span class="">Sock Shop</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesspring-boot-li">
  <a href="../../../docs/samples/spring-boot/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssamplesspring-boot"><span class="">Spring Boot</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplesstandard-kubernetes-li">
  <a href="../../../docs/samples/standard-kubernetes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssamplesstandard-kubernetes"><span class="">Standard Kubernetes Resources</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssamplestodo-list-li">
  <a href="../../../docs/samples/todo-list/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docssamplestodo-list"><span class="">ToDo List</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssampleshelidon-config-li">
  <a href="../../../docs/samples/helidon-config/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssampleshelidon-config"><span class=""></span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docssampleshello-helidon-li">
  <a href="../../../docs/samples/hello-helidon/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docssampleshello-helidon"><span class=""></span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-docsreference-li">
  <a href="../../../docs/reference/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsreference"><span class="">Reference</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child collapse" id="m-docsreferenceapi-li">
  <a href="../../../docs/reference/api/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsreferenceapi"><span class="">API</span></a>
  <ul class="ul-3 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsreferenceapivao-clusters-v1alpha1-li">
  <a href="../../../docs/reference/api/vao-clusters-v1alpha1/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceapivao-clusters-v1alpha1"><span class="">Multicluster and Verrazzano Project</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsreferenceapivao-oam-v1alpha1-li">
  <a href="../../../docs/reference/api/vao-oam-v1alpha1/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceapivao-oam-v1alpha1"><span class="">Traits and Workloads</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsreferenceapivco-clusters-v1alpha1-li">
  <a href="../../../docs/reference/api/vco-clusters-v1alpha1/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceapivco-clusters-v1alpha1"><span class="">Verrazzano Managed Cluster</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsreferenceapivpo-verrazzano-v1alpha1-li">
  <a href="../../../docs/reference/api/vpo-verrazzano-v1alpha1/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceapivpo-verrazzano-v1alpha1"><span class="">Verrazzano v1alpha1</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsreferenceapivpo-verrazzano-v1beta1-li">
  <a href="../../../docs/reference/api/vpo-verrazzano-v1beta1/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferenceapivpo-verrazzano-v1beta1"><span class="">Verrazzano v1beta1</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse" id="m-docsreferencemigration-li">
  <a href="../../../docs/reference/migration/" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id="m-docsreferencemigration"><span class="">Deprecated API Migration Guide</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-docsreleasenotes-li">
  <a href="../../../docs/releasenotes/" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id="m-docsreleasenotes"><span class="">Release Notes</span></a>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            
<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">

</div>

            


<div class="td-toc"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#plan-cluster-topology">Plan cluster topology</a></li>
        <li><a href="#recommended-alarms">Recommended alarms</a></li>
        <li><a href="#configure-cluster-topology">Configure cluster topology</a></li>
        <li><a href="#configure-index-state-management-policies">Configure Index State Management policies</a></li>
        <li><a href="#default-ism-policies">Default ISM policies</a></li>
        <li><a href="#override-default-ism-policies">Override default ISM policies</a></li>
        <li><a href="#default-index-patterns">Default index patterns</a></li>
        <li><a href="#override-default-number-of-shards-and-replicas">Override default number of shards and replicas</a></li>
        <li><a href="#install-opensearch-and-opensearch-dashboards-plug-ins">Install OpenSearch and OpenSearch Dashboards plug-ins</a></li>
      </ul>
    </li>
  </ul>
</nav></div>



            

	
		



  
  

	
		



  
  

	

          </aside>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="../../../docs/">Documentation</a>
  </li>
  <li class="breadcrumb-item">
    <a href="../../../docs/customize/">Customize Verrazzano</a>
  </li>
  <li class="breadcrumb-item active" aria-current="page">
    <a href="../../../docs/customize/opensearch/">OpenSearch</a>
  </li>
  </ol>
</nav>
            
<div class="td-content">
	<h1>OpenSearch</h1>
	<div class="lead">Learn how to customize your OpenSearch cluster configuration</div>
	<header class="article-meta">
		

  
    


  
    


  

		
	</header>    
	<p>Verrazzano supports two cluster topologies for an OpenSearch cluster:</p>
<ul>
<li>A single-node cluster: master, ingest, and data roles performed by a single node.</li>
<li>A multi-node cluster configuration with separate master, data, and ingest nodes.</li>
</ul>
<p>For information about the default OpenSearch cluster configurations provided by Verrazzano, see <a href="../../../docs/setup/install/profiles/">Installation Profiles</a>.</p>
<h2 id="plan-cluster-topology">Plan cluster topology</h2>
<p>Start with an initial estimate of your hardware needs. The following recommendations will provide you with initial, educated estimates, but for ideal sizing, you will need to test them with representative workloads, monitor their performance, and then reiterate.</p>
<h4 id="storage-requirements">Storage Requirements</h4>
<table>
<thead>
<tr>
<th style="text-align:left">Input</th>
<th>Description</th>
<th style="text-align:left">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">\(s\)</td>
<td>Stored data size in GiB (log size per day * days to retain).</td>
<td style="text-align:left">User defined</td>
</tr>
<tr>
<td style="text-align:left">\(sr\)</td>
<td>Shard replica count per index.</td>
<td style="text-align:left">User defined</td>
</tr>
<tr>
<td style="text-align:left">\(o\)</td>
<td>Overall overhead, which is a constant.</td>
<td style="text-align:left">1.45</td>
</tr>
</tbody>
</table>
<p>Minimum storage requirement = \( ( s * ( 1 + sr ) ) * o \)</p>
<h4 id="example">Example</h4>
<p>If you have  \(s\) = 66 GiB (6 GiB of log size per day * 11 days to retain) and, if you choose one shard replica per index, which makes \(sr\) = 1</p>
<p>Then, minimum storage requirement = \((66 * (1 + 1) ) * 1.45\) = 192 GiB</p>
<p><em>Overhead</em>, which is defined in the previous table, can be further explained as follows.</p>
<table>
<thead>
<tr>
<th>Input</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>\(io\)</td>
<td>Indexing overhead: Extra space used other than the actual data, which is generally 10% ( 0.1 ) of the index size.</td>
<td>1 + 0.1 = 1.1</td>
</tr>
<tr>
<td>\(lrs\)</td>
<td>Linux reserved space: Linux reserves 5% of the file system for the root user for some OS operations.</td>
<td>1- 0.05 = .95</td>
</tr>
<tr>
<td>\(oo\)</td>
<td>OpenSearch overhead: OpenSearch keeps a maximum 20% of the instance for segment merges, logs, and other internal operations.</td>
<td>1- 0.2 = 0.8</td>
</tr>
</tbody>
</table>
<p>Overall overhead \(o\) = \( io / lrs / oo \) = 1.45</p>
<h4 id="memory">Memory</h4>
<p>For every 100 GiB of your storage requirement, you should have 8 GiB of memory.</p>
<p>With reference to the <a href="#example">Example</a>:</p>
<p>For 192 GiB of storage requirement, you need 16 GiB of memory.</p>
<h4 id="number-of-data-nodes">Number of Data Nodes</h4>
<table>
<thead>
<tr>
<th>Input</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>\(ts\)</td>
<td>Total storage in GiB.</td>
<td>User defined</td>
</tr>
<tr>
<td>\(mem\)</td>
<td>Memory per data node in GiB.</td>
<td>User defined</td>
</tr>
<tr>
<td>\(md\)</td>
<td>Memory:data ratio (1:30 ratio means that you have 30 times more storage on the node than you have RAM; the value used would be 30).</td>
<td>User defined</td>
</tr>
<tr>
<td>\(fc\)</td>
<td>One data node for failover capacity, which is a constant.</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>ROUNDUP \(ts / mem / md  + fc\)</p>
<p>With reference to the <a href="#example">Example</a>:</p>
<p>\(ts\) = 192 GiB , \(mem\) = 8 GiB , \(md\) = 1:10 and \(fc\) = 1</p>
<p>Then, number of data nodes = ROUNDUP \( 192 / 8 / 10  + 1 \) = 3</p>
<h4 id="jvm-heap-memory">JVM heap memory</h4>
<p>The heap size is the amount of RAM allocated to the JVM of an OpenSearch node. The OpenSearch process is very memory intensive and close to 50% of the memory available on a node should be allocated to the JVM. The JVM machine uses memory for indexing and search operations. The other 50% is required for the file system cache, which keeps data that is regularly accessed in memory.
As a general rule, you should set <code>-Xms</code> and <code>-Xmx</code> to the same value, which should be 50% of your total available RAM, subject to a maximum of (approximately) 31 GiB.</p>
<h4 id="cpu">CPU</h4>
<p>Hardware requirements vary dramatically by workload, but, typically, two vCPU cores for every 100 GiB of your storage requirement is sufficient.</p>
<p>With reference to the <a href="#example">Example</a>:</p>
<p>For 192 GiB of storage, the vCPU cores required are 4.</p>
<h4 id="shard-size">Shard Size</h4>
<p>For logging, shard sizes between 10 GiB and 50 GiB typically perform well.
For search-intensive operations, 10-25 GiB typically is a good shard size. Overall, it is a best practice that, for a single shard, the OpenSearch shard size should not go above 50GiB. When the shards exceed 50 GiB, you will have to reindex your data.</p>
<h4 id="primary-shards-count">Primary shards count</h4>
<table>
<thead>
<tr>
<th>Input</th>
<th>Description</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>\(s\)</td>
<td>Stored data size in GiB (log size per day * days to retain).</td>
<td>User defined</td>
</tr>
<tr>
<td>\(sh\)</td>
<td>Desired shard size in GiB.</td>
<td>User defined</td>
</tr>
<tr>
<td>\(io\)</td>
<td>Indexing overhead: Extra space used other than the actual data which is generally 10% of the index size.</td>
<td>0.1</td>
</tr>
</tbody>
</table>
<p>Primary shards = \( ( s * (1 + io) ) / sh \)</p>
<p>With reference to the <a href="#example">Example</a>:</p>
<p>\(s\) = 66 GiB and if you choose shard size \(sh\) = 30 GiB</p>
<p>Then, primary shards count = \( ( 66 * 1.1 )/ 30 \) = 2</p>
<h2 id="recommended-alarms">Recommended alarms</h2>
<p>You can <a href="../../../docs/customize/prometheus/">customize Prometheus</a> to enable Alertmanager and configure recommended alarms (add alert rules) to get insight into your OpenSearch cluster and take some actions proactively.</p>
<p>Use the <code>OSDataNodeFilesystemSpaceFillingUp</code> alert to indicate that the OpenSearch average disk usage has exceeded the specified threshold. Adjust the alert thresholds according to your needs.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000">kubectl apply -f - &lt;&lt;EOF</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">monitoring.coreos.com/v1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">PrometheusRule</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">labels</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">release</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">prometheus-operator</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">prometheus-operator-os</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">namespace</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">verrazzano-monitoring</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">groups</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">os</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">rules</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">alert</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">OSDataNodeFilesystemSpaceFillingUp</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">annotations</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">runbook_url</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">&lt;link to runbook&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">summary</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Opensearch average disk usage exceeded 75%.</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">expr</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">|-</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">            </span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#f8f8f8;text-decoration:underline"> </span>- <span style="color:#000">(es_fs_total_available_bytes{node=~&#34;.*data.*&#34;}/ es_fs_total_total_bytes) &gt; .75</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">for</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">30m</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">labels</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">severity</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">warning</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#000">EOF</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h2 id="configure-cluster-topology">Configure cluster topology</h2>
<p>You can customize the node characteristics of your OpenSearch cluster by using the
<a href="../../../docs/reference/api/vpo-verrazzano-v1beta1/#install.verrazzano.io/v1beta1.OpenSearchNode">spec.components.opensearch.nodes</a>
field in the Verrazzano custom resource.  When installing or upgrading Verrazzano, you can use this field to
define an OpenSearch cluster using node groups.</p>
<p>The following example overrides the <code>dev</code> installation profile, OpenSearch configuration (a single-node cluster with
1Gi of memory and ephemeral storage) to use a multi-node cluster (three master nodes, and three combination data/ingest nodes) with persistent storage.</p>
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">install.verrazzano.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Verrazzano</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">custom-opensearch-example</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">profile</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">dev</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">components</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">opensearch</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">nodes</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">master</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">replicas</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">roles</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span>- <span style="color:#000">master</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">storage</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">size</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">50Gi</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">resources</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">requests</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#204a87;font-weight:bold">memory</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1.</span><span style="color:#000">5Gi</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">data-ingest</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">replicas</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">roles</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span>- <span style="color:#000">data</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span>- <span style="color:#000">ingest</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">storage</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">size</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">100Gi</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">resources</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">requests</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#204a87;font-weight:bold">memory</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">1Gi</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># Override the default node groups because we are providing our own topology.</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">os-master</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">replicas</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">os-data</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">replicas</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">os-ingest</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">replicas</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
<p>Listing the pods and persistent volumes in the <code>verrazzano-system</code> namespace for the previous configuration
shows the expected nodes are running with the appropriate data volumes.
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight">
<pre tabindex="0"><code>$ kubectl get pvc,pod -l verrazzano-component=opensearch -n verrazzano-system

# Sample output
NAME                                                             STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   AGE
persistentvolumeclaim/opensearch-master-vmi-system-master-0      Bound    pvc-9ace042a-dd68-4975-816d-f2ca0dc4d9d8   50Gi       RWO            standard       5m22s
persistentvolumeclaim/opensearch-master-vmi-system-master-1      Bound    pvc-8bf68c2c-235e-4bd5-8741-5a5cd3453934   50Gi       RWO            standard       5m21s
persistentvolumeclaim/opensearch-master-vmi-system-master-2      Bound    pvc-da8a48b1-5762-4669-98f0-8479f30043fc   50Gi       RWO            standard       5m21s
persistentvolumeclaim/vmi-system-data-ingest                     Bound    pvc-7ad9f275-632b-4aac-b7bf-c5115215937c   100Gi      RWO            standard       5m23s
persistentvolumeclaim/vmi-system-data-ingest-1                   Bound    pvc-8a293e51-2c20-4cae-916b-1ce46a780403   100Gi      RWO            standard       5m23s
persistentvolumeclaim/vmi-system-data-ingest-2                   Bound    pvc-0025fcef-1d8c-4307-977c-3921545c6730   100Gi      RWO            standard       5m22s

NAME                                                   READY   STATUS     RESTARTS   AGE
pod/coherence-operator-6ffb6bbd4d-bpssc                1/1     Running    1          8m2s
pod/fluentd-ndshl                                      2/2     Running    0          5m51s
pod/oam-kubernetes-runtime-85cfd899d8-z9gv6            1/1     Running    0          8m14s
pod/verrazzano-application-operator-5fbcdf6655-72tw9   1/1     Running    0          7m49s
pod/verrazzano-authproxy-5f9d479455-5bvvt              2/2     Running    0          7m43s
pod/verrazzano-console-5b857d7b47-djbrk                2/2     Running    0          5m51s
pod/verrazzano-monitoring-operator-b4b446567-pgnfw     2/2     Running    0          5m51s
pod/vmi-system-data-ingest-0-5485dcd95d-rkhvk          2/2     Running    0          5m21s
pod/vmi-system-data-ingest-1-8d7db6489-kdhbv           2/2     Running    1          5m21s
pod/vmi-system-data-ingest-2-699d6bdd9c-z7nzx          2/2     Running    0          5m21s
pod/vmi-system-grafana-7947cdd84b-b7mks                2/2     Running    0          5m21s
pod/vmi-system-kiali-6c7bd6658b-d2zq9                  2/2     Running    0          5m37s
pod/vmi-system-opensearchDashboards-7d47f65dfc-zhjxp   2/2     Running    0          5m21s
pod/vmi-system-master-0                                2/2     Running    0          5m21s
pod/vmi-system-master-1                                2/2     Running    0          5m21s
pod/vmi-system-master-2                                2/2     Running    0          5m21s
pod/weblogic-operator-666b548749-lj66t                 2/2     Running    0          7m48s
</code></pre></div>

</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script></p>
<p>Running the command <code>kubectl describe pod -n verrazzano-system vmi-system-data-ingest-0-5485dcd95d-rkhvk</code> shows the
requested amount of memory.
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight">
<pre tabindex="0"><code>Containers:
  os-data:
    ...
    Requests:
      memory:   1Gi
</code></pre></div>

</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script></p>
<h2 id="configure-index-state-management-policies">Configure Index State Management policies</h2>
<p><a href="https://opensearch.org/docs/2.3/im-plugin/ism/index/">Index State Management</a> (ISM) policies configure OpenSearch to manage the data in your indices.
You can use policies to automatically rollover and prune old data, preventing your OpenSearch
cluster from running out of disk space.</p>
<p>Verrazzano lets you configure OpenSearch ISM policies using the Verrazzano custom resource.
The ISM policy created by Verrazzano will contain two states: ingest and delete. The ingest state can be configured only for the rollover action.
The rollover action for the ingest state will be configured based on the rollover configuration provided in the Verrazzano custom resource.</p>
<p>The following policy example configures OpenSearch to manage indices matching the pattern <code>my-app-*</code>. The data in these indices will be
automatically pruned every 14 days, and will be rolled over if an index meets at least one of the following criteria:</p>
<ul>
<li>Is three or more days old</li>
<li>Contains 1,000 documents or more</li>
<li>Is 10 GB in size or larger</li>
</ul>
<p><style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">install.verrazzano.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Verrazzano</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">custom-opensearch-example</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">profile</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">dev</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">components</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">opensearch</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">policies</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#204a87;font-weight:bold">policyName</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">my-app</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">indexPattern</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">my-app-*</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">minIndexAge</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">14d</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#204a87;font-weight:bold">rollover</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">minIndexAge</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">3d</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">minDocCount</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">1000</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">minSize</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">10Gb</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
The previous Verrazzano custom resource will generate the following ISM policy.</p>
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;_id&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;my-app&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;_version&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">17</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;_seq_no&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">16</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;_primary_term&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;policy&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;policy_id&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;my-app&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;description&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;__vmi-managed__&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;last_updated_time&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1671096525963</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;schema_version&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">12</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;error_notification&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;default_state&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ingest&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;states&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ingest&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;actions&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;rollover&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&#34;min_size&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;10gb&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&#34;min_doc_count&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1000</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&#34;min_index_age&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;3d&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;transitions&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;state_name&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;delete&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;conditions&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>              <span style="color:#204a87;font-weight:bold">&#34;min_index_age&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;14d&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;name&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;delete&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;actions&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;delete&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span> <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;transitions&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span> <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;ism_template&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;index_patterns&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;my-app-*&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;priority&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;last_updated_time&#34;</span> <span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1671096525963</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
<p><strong>NOTE:</strong> The ISM policy created using the Verrazzano custom resource contains a minimal set of configurations. To create a more detailed ISM policy,
you can also use the OpenSearch REST API. To create a policy using the OpenSearch API, do the following:</p>
<p><style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ <span style="color:#000">PASS</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">$(</span>kubectl get secret <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    --namespace verrazzano-system verrazzano <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:bold">={</span>.data.password<span style="color:#ce5c00;font-weight:bold">}</span> <span style="color:#000;font-weight:bold">|</span> base64 <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    --decode<span style="color:#000;font-weight:bold">;</span> <span style="color:#204a87">echo</span><span style="color:#204a87;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ <span style="color:#000">HOST</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">$(</span>kubectl get ingress <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    -n verrazzano-system vmi-system-os-ingest <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:bold">={</span>.spec.rules<span style="color:#ce5c00;font-weight:bold">[</span>0<span style="color:#ce5c00;font-weight:bold">]</span>.host<span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#204a87;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ curl -ik -X PUT --user verrazzano:<span style="color:#000">$PASS</span> https://<span style="color:#000">$HOST</span>/_plugins/_ism/policies/policy_3 <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    -H <span style="color:#4e9a06">&#39;Content-Type: application/json&#39;</span> <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    --data-binary @- <span style="color:#4e9a06">&lt;&lt; EOF
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  &#34;policy&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    &#34;description&#34;: &#34;ingesting logs&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    &#34;default_state&#34;: &#34;ingest&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    &#34;states&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;name&#34;: &#34;ingest&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;actions&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            &#34;rollover&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              &#34;min_doc_count&#34;: 5
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        ],
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;transitions&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            &#34;state_name&#34;: &#34;search&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        ]
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;name&#34;: &#34;search&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;actions&#34;: [],
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;transitions&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            &#34;state_name&#34;: &#34;delete&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            &#34;conditions&#34;: {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              &#34;min_index_age&#34;: &#34;5m&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        ]
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;name&#34;: &#34;delete&#34;,
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;actions&#34;: [
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          {
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            &#34;delete&#34;: {}
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        ],
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        &#34;transitions&#34;: []
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    ]
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  }
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">}
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">EOF</span>
</span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
To view existing policies, do the following:</p>
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ curl -ik <span style="color:#4e9a06">\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06"></span>    --user verrazzano:<span style="color:#000">$PASS</span> https://<span style="color:#000">$HOST</span>/_plugins/_ism/policies
</span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
<h2 id="default-ism-policies">Default ISM policies</h2>
<p>To help you manage issues, such as low disk space, the following two ISM policies are created by default:</p>
<ul>
<li>
<p><code>vz-system</code>: Manages the data in the Verrazzano system indices.</p>
<p><img src="../../../docs/images/vz-system-ism-policy.png" alt="vz-system"></p>
</li>
<li>
<p><code>vz-application</code>: Manages the data in the application-related indices having the pattern, <code>verrazzano-application*</code>.</p>
<p><img src="../../../docs/images/vz-application-ism-policy.png" alt="vz-application"></p>
</li>
</ul>
<p>Both ISM policies have three states:</p>
<ul>
<li><strong>Hot</strong>: This is the default state. If the primary shard size is greater than the defined size (5 GB for <code>vz-system</code> and 1 GB for <code>vz-application</code>) or the index age is greater than the defined number of days (30 days for <code>vz-system</code> and 7 days for <code>vz-application</code>), then the index will be rolled over.</li>
<li><strong>Cold</strong>:  In this state, the index will be closed if the index age is greater than the defined number of days (30 days for <code>vz-system</code> and 7 days for <code>vz-application</code>). A closed index is blocked for read or write operations and does not allow any operations that the opened indices allow.</li>
<li><strong>Delete</strong>: In this state, the index will be deleted if the index age is greater than the defined number of days (35 days for <code>vz-system</code> and 12 days for <code>vz-application</code>).</li>
</ul>
<h2 id="override-default-ism-policies">Override default ISM policies</h2>
<p>The <code>vz-system</code> and <code>vz-application</code> policies are immutable and any change to these policies will be reverted immediately. However, the following two methods will override this behavior:</p>
<ul>
<li><strong>Disable default policies</strong>: You can disable the use of these default policies by setting the flag <a href="../../../docs/reference/api/vpo-verrazzano-v1beta1/#install.verrazzano.io/v1beta1.OpenSearchComponent">spec.components.opensearch.disableDefaultPolicy</a> to <code>true</code> in the Verrazzano CR. This will delete the default ISM policies.</li>
<li><strong>Override default policies</strong>: Both these default policies have a zero (<code>0</code>) priority. You can override the default policies by creating policies with <code>policy.ism_template.priority</code> greater than <code>0</code>.</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">NOTE</h4>

    <ul>
<li>Avoid creating policies with policy IDs <code>vz-system</code> or <code>vz-application</code>. In the Verrazzano CR, by default, policies that are created with these names will be overridden with the ISM policies, if the flag <a href="../../../docs/reference/api/vpo-verrazzano-v1beta1/#install.verrazzano.io/v1beta1.OpenSearchComponent">spec.components.opensearch.disableDefaultPolicy</a> is set to <code>false</code>.</li>
<li>The default policy will be applied only to the newly created indices. To manually attach the new policies to the older indices, see <a href="https://opensearch.org/docs/latest/im-plugin/ism/index/#step-2-attach-policies-to-indexes">Step 2: Attach policies to indexes</a>.</li>
</ul>


</div>

<h2 id="default-index-patterns">Default index patterns</h2>
<p>The default index patterns, <code>verrazzano-system</code> and <code>verrazzano-application*</code>, are created by Verrazzano. These index patterns are immutable. Changes to these index patterns will be lost because Verrazzano will reconcile and replace them with the default ISM policies.</p>
<h2 id="override-default-number-of-shards-and-replicas">Override default number of shards and replicas</h2>
<p>Verrazzano provides a default index template, <code>verrazzano-data-stream</code>. In initial Verrazzano v1.5 installations (not upgrades), the default index template creates one shard and one replica for each index. (In previous and upgrade installations, it creates five shards and one replica.) You can override the default number of shards or replicas by overriding the default index template.</p>
<p>To do that, you need to get the default index template, copy the contents and change the number of shards, replicas, and index pattern, and then create your own index template with a higher priority so that the new template will override the default one.</p>
<p>You can use the OpenSearch Dev Tools Console to send given queries to OpenSearch. To open the console, select Dev Tools on the main OpenSearch Dashboards page and write your queries in the editor pane on the left side of the console.</p>
<p>To get the existing, default template:
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000">$ GET /_index_template/verrazzano-data-stream</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script></p>
<p>Here is an example to create a new index template, which changes the number of shards to <code>3</code> and replicas to <code>2</code>.
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#000">$ PUT _index_template/my-template</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#4e9a06">&#34;index_patterns&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#4e9a06">&#34;verrazzano-application-myapp*&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#000;font-weight:bold">],</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#4e9a06">&#34;template&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#4e9a06">&#34;settings&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#4e9a06">&#34;index&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#4e9a06">&#34;mapping&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#4e9a06">&#34;total_fields&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;limit&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;2000&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#4e9a06">&#34;refresh_interval&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;5s&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#4e9a06">&#34;number_of_shards&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;3&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#4e9a06">&#34;auto_expand_replicas&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;0-1&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#4e9a06">&#34;number_of_replicas&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#4e9a06">&#34;mappings&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#4e9a06">&#34;dynamic_templates&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">[</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#4e9a06">&#34;message_field&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;path_match&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;message&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;mapping&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span><span style="color:#4e9a06">&#34;norms&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span><span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;text&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;match_mapping_type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;string&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#4e9a06">&#34;object_fields&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;mapping&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span><span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;object&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;match_mapping_type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;object&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;match&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;*&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#4e9a06">&#34;all_non_object_fields&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;mapping&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span><span style="color:#4e9a06">&#34;norms&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span><span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;text&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span><span style="color:#4e9a06">&#34;fields&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                      </span><span style="color:#4e9a06">&#34;keyword&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                        </span><span style="color:#4e9a06">&#34;ignore_above&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">256</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                        </span><span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;keyword&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                      </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                    </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                  </span><span style="color:#4e9a06">&#34;match&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;*&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#000;font-weight:bold">],</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#4e9a06">&#34;properties&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span><span style="color:#4e9a06">&#34;@timestamp&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#4e9a06">&#34;format&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;strict_date_time||strict_date_optional_time||epoch_millis&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#4e9a06">&#34;type&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;date&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">              </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>}<span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#4e9a06">&#34;priority&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">201</span><span style="color:#000;font-weight:bold">,</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#4e9a06">&#34;data_stream&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span><span style="color:#4e9a06">&#34;timestamp_field&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span>{<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#4e9a06">&#34;name&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#4e9a06">&#34;@timestamp&#34;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span>}<span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
With this example, new indices that match the <code>verrazzano-application-myapp*</code> index pattern will be created with three shards and two replicas, and other indices that don&rsquo;t match will continue to be created with the default number of shards and replicas.
For more information, see <a href="https://opensearch.org/docs/latest/opensearch/index-templates/">Index templates </a> in the OpenSearch documentation.</p>
<h2 id="install-opensearch-and-opensearch-dashboards-plug-ins">Install OpenSearch and OpenSearch Dashboards plug-ins</h2>
<p>Verrazzano supports OpenSearch and OpenSearch Dashboard plug-in installation by providing plug-ins in the Verrazzano custom resource.
To install plug-ins for OpenSearch, you define the field <a href="../../../docs/reference/api/vpo-verrazzano-v1beta1/#install.verrazzano.io/v1beta1.OpenSearchComponent">spec.components.opensearch.plugins</a> in the Verrazzano custom resource.</p>
<p>The following Verrazzano custom resource example installs the <code>analysis-stempel</code> and <code>opensearch-anomaly-detection</code> plug-ins for OpenSearch:</p>
<p><style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">install.verrazzano.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Verrazzano</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">custom-opensearch-example</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">profile</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">dev</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">components</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">opensearch</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">plugins</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">enabled</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">installList</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span>- <span style="color:#000">analysis-stempel</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span>- <span style="color:#000">https://repo1.maven.org/maven2/org/opensearch/plugin/opensearch-anomaly-detection/2.2.0.0/opensearch-anomaly-detection-2.2.0.0.zip</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>
There are three ways to define a plug-in in the <code>plugins.installList</code>:</p>
<ul>
<li>
<p><a href="https://opensearch.org/docs/latest/opensearch/install/plugins#install-a-plugin-by-name">Define a plug-in by name</a>:</p>
<p>There are some pre-built <a href="https://opensearch.org/docs/latest/opensearch/install/plugins#additional-plugins">additional plug-ins</a> that you can install by name.
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">installList</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#000">analysis-icu</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script></p>
</li>
<li>
<p><a href="https://opensearch.org/docs/latest/opensearch/install/plugins#install-a-plugin-from-a-zip-file">Define a plug-in from a remote ZIP file</a>:</p>
<p>Provide the URL to a remote ZIP file that contains the required plug-in.
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">installList</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#000">https://repo1.maven.org/maven2/org/opensearch/plugin/opensearch-anomaly-detection/2.2.0.0/opensearch-anomaly-detection-2.2.0.0.zip</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script></p>
</li>
<li>
<p><a href="https://opensearch.org/docs/latest/opensearch/install/plugins#install-a-plugin-using-maven-coordinates">Define a plug-in using Maven coordinates</a>:</p>
<p>Provide the Maven coordinates for the available artifacts and versions hosted on <a href="https://search.maven.org/search?q=org.opensearch.plugin">Maven Central</a>.
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">installList</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span>- <span style="color:#000">org.opensearch.plugin:opensearch-anomaly-detection:2.2.0.0</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">NOTE</h4>

    <ul>
<li>Your environment must be able to connect to the Internet to access the provided plug-in URL or <a href="https://search.maven.org/search?q=org.opensearch.plugin">Maven Central</a> to install the plug-in. If there is any error during plug-in installation, then the OS pods (one per deployment) will go into the CrashLoopBackOff state. Check the logs for the exact reason of the failure. In the case of an Internet issue, you might see SocketException or UnknownHostException exceptions in the logs. To resolve this issue, make sure that the pods are connected to the Internet.</li>
<li>Adding a new plug-in in the <code>plugins.installList</code> or removing a plug-in from the <code>plugins.installList</code> will result in restarting the OpenSearch related pods.</li>
<li>To be compatible, major, minor, and patch plug-in versions must match OpenSearch major, minor, and patch versions. For example, plug-ins versions 2.3.0.x are compatible only with OpenSearch version 2.3.0.</li>
</ul>


</div>
</p>
</li>
</ul>
<p>For OpenSearch Dashboard, you can provide the plug-ins by defining the field <a href="../../../docs/reference/api/vpo-verrazzano-v1beta1/#install.verrazzano.io/v1beta1.v1beta1.OpenSearchDashboardsComponent">spec.components.opensearch-dashboards.plugins</a> in the Verrazzano custom resource.</p>
<p>Here is a Verrazzano custom resource example to install plug-ins for the OpenSearch Dashboards:
<style type="text/css">
    code {
        margin: 0;
        padding: 0;
    }

    .copy-code-button {
        position: absolute;
        right: 0;
        top: -29px;
        font-size: 12px;
        line-height: 14px;
        width: 65px;
        color: white;
        background-color: #30638E;
        border: 1px solid #30638E;
        white-space: nowrap;
        padding: 6px 6px 7px 6px;
    }

    .copy-code-button:hover,
    .copy-code-button:focus{
        background-color: gray;
        opacity: 1;
    }

</style>

<div class="clipboard">
    <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">install.verrazzano.io/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Verrazzano</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">custom-opensearch-example</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">profile</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">dev</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">components</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">opensearchDashboards</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">plugins</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">enabled</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">installList</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">          </span>- <span style="color:#000">&lt;URL to OpenSearch Dashboard plugin ZIP file&gt;</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>

<script>
    function createCopyButton(highlightDiv) {
        const button = document.createElement("button");
        button.innerText = "Copy";
        button.className = "copy-code-button";
        button.addEventListener("click", () =>
            copyCodeToClipboard(button, highlightDiv)
        );
        addCopyButton(button, highlightDiv);
    }

    function addCopyButton(button, highlightDiv) {
        highlightDiv.insertBefore(button, highlightDiv.firstChild);
        const wrapper = document.createElement("div");
        highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
        wrapper.appendChild(highlightDiv);
    }

    async function copyCodeToClipboard(button, highlightDiv) {
        let codeToCopy = highlightDiv.querySelector(":last-child > code, pre").innerText;
        
        let codeBlock = codeToCopy.split("\n");
        let expectedLine = codeBlock.findIndex(line => line.toLowerCase().startsWith("# expected response") || line.toLowerCase().startsWith("# sample output"));
        if (expectedLine !== -1) {
            codeBlock.splice(expectedLine);
        }
        codeToCopy = codeBlock.join("\n");
        
        codeToCopy = codeToCopy.replace(/^#(.*)$/gm, '').trim();
        
        codeToCopy = codeToCopy.replace(/\$\s+/gm, '').trim();
        codeToCopy = codeToCopy.replace(/\n{2,}/g,'\n');
        console.log(codeToCopy);
        try {
            await navigator.clipboard.writeText(codeToCopy);
        } catch (err) {
            
            const textarea = document.createElement('textarea');
            textarea.value = codeToCopy;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            textarea.remove();
        }
        button.blur();
        button.innerText = "Copied";
        setTimeout(function () {
            button.innerText = "Copy";
        }, 2000);
    }


    document
        .querySelectorAll(".highlight")
        .forEach((highlightDiv) => createCopyButton(highlightDiv));
</script></p>

	
		<style>
  .feedback--answer {
    display: inline-block;
  }
  .feedback--answer-no {
    margin-left: 1em;
  }
  .feedback--response {
    display: none;
    margin-top: 1em;
  }
  .feedback--response__visible {
    display: block;
  }
</style>
<div class="d-print-none">
<h2 class="feedback--title">Feedback</h2>
<p class="feedback--question">Was this page helpful?</p>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button>
<p class="feedback--response feedback--response-yes">
  Glad to hear it! Please <a href="https://github.com/verrazzano/docs/issues/new">tell us how we can improve</a>.
</p>
<p class="feedback--response feedback--response-no">
  Sorry to hear that. Please <a href="https://github.com/verrazzano/docs/issues/new">tell us how we can improve</a>.
</p>
</div>
<script>
  const yesButton = document.querySelector('.feedback--answer-yes');
  const noButton = document.querySelector('.feedback--answer-no');
  const yesResponse = document.querySelector('.feedback--response-yes');
  const noResponse = document.querySelector('.feedback--response-no');
  const disableButtons = () => {
    yesButton.disabled = true;
    noButton.disabled = true;
  };
  const sendFeedback = (value) => {
    if (typeof ga !== 'function') return;
    const args = {
      command: 'send',
      hitType: 'event',
      category: 'Helpful',
      action: 'click',
      label: window.location.pathname,
      value: value
    };
    ga(args.command, args.hitType, args.category, args.action, args.label, args.value);
  };
  yesButton.addEventListener('click', () => {
    yesResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(1);
  });
  noButton.addEventListener('click', () => {
    noResponse.classList.add('feedback--response__visible');
    disableButtons();
    sendFeedback(0);
  });
</script>

		<br />
	
	
	
</div>


          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://twitter.com/verrazzano_io">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/tags/verrazzano">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://github.com/verrazzano/verrazzano">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener noreferrer" href="https://bit.ly/3gOeRJn">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 Oracle and/or its affiliates</small>
        
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js"
    integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA=="
    crossorigin="anonymous"></script>





<script src='../../../js/tabpane-persist.js'></script>






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"
    integrity="sha512-vJqxkZ+Sugf/6WRlpcxN01qVfX/29hF6qc33eHF1va3NgoV+U+wCi+uTAsQ10sDoGyBxHLdaHvGwDlV3yVYboA==" crossorigin="anonymous">

<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"
    integrity="sha512-5ufNcHqOYgilGEHPfuRIQ5B/vDS1M8+UC+DESZ5CwVgGTg+b2Ol/15rYL/GiCWJ/Sx8oVo0FPFok1dPk8U9INQ=="
    crossorigin="anonymous"></script>



<script defer src='https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js'
    integrity='sha512-ZA/RPrAo88DlwRnnoNVqKINnQNcWERzRK03PDaA4GIJiVZvGFIWQbdWCsUebMZfkWohnfngsDjXzU6PokO4jGw==' crossorigin='anonymous' 
    onload='renderMathInElement(document.body, null);'></script>















<script src="../../../js/main.min.fc1551b8c1b40a6eaa08f3cb9c76f12ccd9aebc436cecdaf2341c890206d024a.js" integrity="sha256-/BVRuMG0Cm6qCPPLnHbxLM2a68Q2zs2vI0HIkCBtAko=" crossorigin="anonymous"></script>




  </body>
</html>